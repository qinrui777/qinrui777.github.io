<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
    
  <meta name="description" content="è¯·æ‹ç –ï½ï½ï½" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     ä¸€ç¬‘çš†æ˜¥
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" href="/css/main.css">
  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

</head>

</html>

<body>
  <div id="app">
    <main class="content">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover2.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">ä¸€ç¬‘çš†æ˜¥</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="post-Github-Actions-E06äº§å‡ºç‰©" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/30/Github-Actions-E06äº§å‡ºç‰©/"
    >Github Actions E06äº§å‡ºç‰©</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/30/Github-Actions-E06äº§å‡ºç‰©/" class="article-date">
  <time datetime="2020-03-30T07:29:31.000Z" itemprop="datePublished">2020-03-30</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/CICD/">CICD</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p>å¤§å¤šæ•°æ—¶å€™ï¼Œworkflowçš„äº§å‡ºç‰©éƒ½ä¼šç›´æ¥ä¼ åˆ°å¯¹åº”çš„æŸäº›ä»“åº“ï¼Œæ¯”å¦‚docker imageä¼šé€åˆ°docker hubè¿™ç§ä»“åº“å­˜å‚¨ã€‚è¿™ç§æ—¶å€™æ˜¯ä¸éœ€è¦åœ¨workflowå†é¢å¤–çš„ç®¡ç†äº§å‡ºç‰©ï¼Œä½†ä¹Ÿä¸èƒ½å…¨ç›˜å¦å®šï¼›æœ‰æ—¶å€™æˆ‘ä»¬æ²¡æœ‰ä¸€ä¸ªæ–¹ä¾¿çš„åœ°æ–¹å»å­˜å‚¨æŸäº›å½¢å¼çš„æ–‡ä»¶ç­‰ï¼Œå°±éœ€è¦æˆ‘ä»¬æœ‰ç±»ä¼¼jenkins <code>archiveArtifacts</code> åŠŸèƒ½ã€‚ä½†github actionsèƒ½åšçš„ä¼šæ›´å¤šï¼Œè¯·æœŸå¾…ã€‚</p>
</blockquote>
<h3 id="1-å…³äºartifacts"><a href="#1-å…³äºartifacts" class="headerlink" title="1. å…³äºartifacts"></a>1. å…³äºartifacts</h3><p>æ„ä»¶æ˜¯æŒ‡åœ¨å·¥ä½œæµç¨‹è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ–‡ä»¶æˆ–æ–‡ä»¶é›†ã€‚<br>GitHub æä¾›ä¸¤é¡¹å¯ç”¨äºä¸Šä¼ å’Œä¸‹è½½æ„å»ºæ„ä»¶çš„æ“ä½œã€‚ ä¸Šä¼ åˆ°å·¥ä½œæµç¨‹è¿è¡Œçš„æ–‡ä»¶å°†ä½¿ç”¨ .zip æ ¼å¼å­˜æ¡£ã€‚ æ›´å¤šä¿¡æ¯è¯·å‚é˜… <code>action/upload-artifact</code> å’Œ <code>download-artifact</code> æ“ä½œã€‚</p>
<p>è¿™äº›æ˜¯æ‚¨å¯èƒ½æƒ³è¦ä¸Šä¼ çš„ä¸€äº›å¸¸è§æ„å»ºå’Œæµ‹è¯•è¾“å‡ºæ„ä»¶ï¼š</p>
<ul>
<li>æ—¥å¿—æ–‡ä»¶å’Œæ ¸å¿ƒè½¬å‚¨æ–‡ä»¶</li>
<li>æµ‹è¯•ç»“æœã€å¤±è´¥å’Œå±å¹•æˆªå›¾</li>
<li>äºŒè¿›åˆ¶æˆ–å­˜æ¡£æ–‡ä»¶</li>
<li>å‹åŠ›æµ‹è¯•æ€§èƒ½è¾“å‡ºå’Œä»£ç è¦†ç›–ç»“æœ</li>
</ul>
<p>å½“ä½œä¸šå®Œæˆæ—¶ï¼Œè¿è¡Œç¨‹åºå°†ç»ˆæ­¢å¹¶åˆ é™¤è™šæ‹Ÿç¯å¢ƒçš„å®ä¾‹ã€‚</p>
<h3 id="2-ä¸Šä¼ "><a href="#2-ä¸Šä¼ " class="headerlink" title="2. ä¸Šä¼ "></a>2. ä¸Šä¼ </h3><p>å¸¸è§çš„åœºæ™¯: ä¸€ä¸ªjavaç¨‹åºçš„äº§å‡ºç‰©æ˜¯ä¸€ä¸ªjaråŒ…ï¼Œåœ¨æ„å»ºä¹‹åéœ€è¦å¾—åˆ°è¿™ä¸ªjarç”¨äºå…¶ä»–ç¯å¢ƒéƒ¨ç½²ã€‚</p>
<p>ä¾æ—§ç”¨ <a href="https://github.com/cicd-draft/api-test-demo" target="_blank" rel="noopener">api-test-demo</a> è¿™ä¸ªä»“åº“åšæ¼”ç¤ºï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>1.ä¸‹è½½ä»£ç ï¼›</li>
<li>2.æ„å»ºjaråŒ…(å­˜æ”¾äºæŒ‡å®šåˆ°è·¯å¾„<code>build/libs/api-demo-0.0.1-SNAPSHOT.jar</code>)ï¼›</li>
<li>3.ä¸Šä¼ jaråŒ…</li>
</ul>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">my</span> <span class="string">workflow</span> <span class="string">demo</span> </span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> </span><br><span class="line"><span class="attr">  push:</span></span><br><span class="line"><span class="attr">    branches:</span> </span><br><span class="line"><span class="bullet">      -</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line"><span class="attr">  artifacts_demo_job:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">job1</span></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">Checkout</span> <span class="string">code</span></span><br><span class="line"><span class="attr">      uses:</span> <span class="string">actions/checkout@v1</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">Build</span> <span class="string">jar</span></span><br><span class="line"><span class="attr">      run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        pwd  &amp;&amp; ls -l</span></span><br><span class="line"><span class="string">        ./gradlew -x jar build</span></span><br><span class="line"><span class="string">        ls -l build/libs/api-demo-0.0.1-SNAPSHOT.jar</span></span><br><span class="line"><span class="string"></span><span class="attr">    - name:</span> <span class="string">Archive</span> <span class="string">SNAPSHOT.jar</span></span><br><span class="line"><span class="attr">      uses:</span> <span class="string">actions/upload-artifact@v1</span></span><br><span class="line"><span class="attr">      with:</span></span><br><span class="line"><span class="attr">        name:</span> <span class="string">api_snapshot_jar</span></span><br><span class="line"><span class="attr">        path:</span> <span class="string">build/libs/api-demo-0.0.1-SNAPSHOT.jar</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>github actions å·¥ä½œæµçš„äº§å‡ºç‰©éƒ½æ”¾åœ¨å“ªé‡Œçš„ï¼Œä¿ç•™å¤šä¹…</p>
</blockquote>
<h3 id="3-ä¸‹è½½"><a href="#3-ä¸‹è½½" class="headerlink" title="3. ä¸‹è½½"></a>3. ä¸‹è½½</h3><p>æ­¥éª¤å®˜æ–¹è¯´æ˜å¦‚ä¸‹ï¼š</p>
<ul>
<li>1.On GitHub, navigate to the main page of the repository.</li>
<li>2.Under your repository name, click Actions.</li>
<li>3.In the left sidebar, click the workflow you want to see.</li>
<li>4.Under â€œWorkflow runsâ€, click the name of the run you want to see.</li>
<li>5.To download artifacts, use the Artifacts drop-down menu, and select the artifact you want to download.</li>
<li>6.To delete artifacts, use the Artifacts drop-down menu, and click .</li>
</ul>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>ä¿ç•™90å¤©</li>
<li>ä¸€æ—¦åˆ é™¤æŸä¸€ä¸ªæ„ä»¶ï¼Œæ— æ³•æ¢å¤</li>
</ul>
<h3 id="4-åœ¨å·¥ä½œæµç¨‹ä¸­ä½œä¸šä¹‹é—´ä¼ é€’æ•°æ®"><a href="#4-åœ¨å·¥ä½œæµç¨‹ä¸­ä½œä¸šä¹‹é—´ä¼ é€’æ•°æ®" class="headerlink" title="4. åœ¨å·¥ä½œæµç¨‹ä¸­ä½œä¸šä¹‹é—´ä¼ é€’æ•°æ®"></a>4. åœ¨å·¥ä½œæµç¨‹ä¸­ä½œä¸šä¹‹é—´ä¼ é€’æ•°æ®</h3><p><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/persisting-workflow-data-using-artifacts#passing-data-between-jobs-in-a-workflow" target="_blank" rel="noopener">https://help.github.com/cn/actions/configuring-and-managing-workflows/persisting-workflow-data-using-artifacts#passing-data-between-jobs-in-a-workflow</a></p>
<p>ç”±äºåŒä¸€ä¸ªworkflowçš„å¤šä¸ªjobåˆ†åˆ«è¿è¡Œåœ¨ä¸åŒçš„è™šæ‹Ÿä¸»æœºä¸Šï¼Œä¸‹é¢ç¤ºä¾‹å·¥ä½œæµç¨‹è¯´æ˜å¦‚ä½•åœ¨ç›¸åŒå·¥ä½œæµç¨‹ä¸­çš„ä»»åŠ¡ä¹‹é—´ä¼ é€’æ•°æ®ã€‚å…³é”®è¯ <strong>need</strong> ç”¨æ¥ç¡®ä¿jobæŒ‰é¡ºåºè¿è¡Œ.</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Share</span> <span class="string">data</span> <span class="string">between</span> <span class="string">jobs</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> <span class="string">[push]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line"><span class="attr">  job_1:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">Add</span> <span class="number">3</span> <span class="string">and</span> <span class="number">7</span></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">      - shell:</span> <span class="string">bash</span></span><br><span class="line"><span class="attr">        run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          expr 3 + 7 &gt; math-homework.txt</span></span><br><span class="line"><span class="string"></span><span class="attr">      - name:</span> <span class="string">Upload</span> <span class="string">math</span> <span class="string">result</span> <span class="string">for</span> <span class="string">job</span> <span class="number">1</span></span><br><span class="line"><span class="attr">        uses:</span> <span class="string">actions/upload-artifact@v1</span></span><br><span class="line"><span class="attr">        with:</span></span><br><span class="line"><span class="attr">          name:</span> <span class="string">homework</span></span><br><span class="line"><span class="attr">          path:</span> <span class="string">math-homework.txt</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  job_2:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">Multiply</span> <span class="string">by</span> <span class="number">9</span></span><br><span class="line"><span class="attr">    needs:</span> <span class="string">job_1</span></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">windows-latest</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">      - name:</span> <span class="string">Download</span> <span class="string">math</span> <span class="string">result</span> <span class="string">for</span> <span class="string">job</span> <span class="number">1</span></span><br><span class="line"><span class="attr">        uses:</span> <span class="string">actions/download-artifact@v1</span></span><br><span class="line"><span class="attr">        with:</span></span><br><span class="line"><span class="attr">          name:</span> <span class="string">homework</span></span><br><span class="line"><span class="attr">      - shell:</span> <span class="string">bash</span></span><br><span class="line"><span class="attr">        run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          value=`cat homework/math-homework.txt`</span></span><br><span class="line"><span class="string">          expr $value \* 9 &gt; homework/math-homework.txt</span></span><br><span class="line"><span class="string"></span><span class="attr">      - name:</span> <span class="string">Upload</span> <span class="string">math</span> <span class="string">result</span> <span class="string">for</span> <span class="string">job</span> <span class="number">2</span></span><br><span class="line"><span class="attr">        uses:</span> <span class="string">actions/upload-artifact@v1</span></span><br><span class="line"><span class="attr">        with:</span></span><br><span class="line"><span class="attr">          name:</span> <span class="string">homework</span></span><br><span class="line"><span class="attr">          path:</span> <span class="string">homework/math-homework.txt</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  job_3:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">Display</span> <span class="string">results</span></span><br><span class="line"><span class="attr">    needs:</span> <span class="string">job_2</span></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">macOS-latest</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">      - name:</span> <span class="string">Download</span> <span class="string">math</span> <span class="string">result</span> <span class="string">for</span> <span class="string">job</span> <span class="number">2</span></span><br><span class="line"><span class="attr">        uses:</span> <span class="string">actions/download-artifact@v1</span></span><br><span class="line"><span class="attr">        with:</span></span><br><span class="line"><span class="attr">          name:</span> <span class="string">homework</span></span><br><span class="line"><span class="attr">      - name:</span> <span class="string">Print</span> <span class="string">the</span> <span class="string">final</span> <span class="string">result</span></span><br><span class="line"><span class="attr">        shell:</span> <span class="string">bash</span></span><br><span class="line"><span class="attr">        run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          value=`cat homework/math-homework.txt`</span></span><br><span class="line"><span class="string">          echo The result is $value</span></span><br></pre></td></tr></table></figure>
<hr>
<p><strong>More Ref:</strong></p>
<ul>
<li><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/persisting-workflow-data-using-artifacts" target="_blank" rel="noopener">å…³äºè¯¥ç¯‡çš„åŸæ–‡</a></li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GA/">GA</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Github-Actions-E05ç¯å¢ƒå˜é‡" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/24/Github-Actions-E05ç¯å¢ƒå˜é‡/"
    >Github Actions E05ç¯å¢ƒå˜é‡</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/24/Github-Actions-E05ç¯å¢ƒå˜é‡/" class="article-date">
  <time datetime="2020-03-24T06:41:34.000Z" itemprop="datePublished">2020-03-24</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/CICD/">CICD</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p>ä¾‹å¦‚åœ¨ä½¿ç”¨Jenkinsç­‰å…¶ä»–CICDå·¥å…·æ—¶é‚£æ ·ï¼Œç¯å¢ƒå˜é‡å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨æµæ°´çº¿ä¸­ä¼ é€’å‚æ•°ï¼Œç„¶åä½¿ç”¨è¿™äº›å˜é‡æ–¹ä¾¿åˆ©ç”¨ï¼Œæˆ–æ˜¯è·å–æ›´å¤šå…³äºæ„å»ºçš„ä¿¡æ¯(æ¯”å¦‚<code>GITHUB_REPOSITORY</code>)ã€‚ ä¾‹å¦‚æ„å»ºé•œåƒæ—¶ <code>app1:master-1</code>ã€<code>app1:ffac53</code>ï¼Œ ç”¨åˆ†æ”¯ååšåˆ¤æ–­ç­‰ã€‚</p>
</blockquote>
<h3 id="1-ä»‹ç»"><a href="#1-ä»‹ç»" class="headerlink" title="1. ä»‹ç»"></a>1. ä»‹ç»</h3><p>GitHubä¸ºæ¯ä¸ªGitHub Actionså·¥ä½œæµç¨‹è¿è¡Œè®¾ç½®é»˜è®¤ç¯å¢ƒå˜é‡ã€‚ æ‚¨è¿˜å¯ä»¥åœ¨å·¥ä½œæµæ–‡ä»¶ä¸­è®¾ç½®è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ã€‚</p>
<h3 id="2-é»˜è®¤çš„ç¯å¢ƒå˜é‡"><a href="#2-é»˜è®¤çš„ç¯å¢ƒå˜é‡" class="headerlink" title="2. é»˜è®¤çš„ç¯å¢ƒå˜é‡"></a>2. é»˜è®¤çš„ç¯å¢ƒå˜é‡</h3><table>
<thead>
<tr>
<th style="text-align:left">ç¯å¢ƒå˜é‡</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">HOME</td>
<td>ç”¨äºå­˜å‚¨ç”¨æˆ·æ•°æ®çš„ GitHub ä¸»ç›®å½•è·¯å¾„ã€‚ ä¾‹å¦‚  <code>/github/home</code>ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_WORKFLOW</td>
<td>å·¥ä½œæµç¨‹çš„åç§°ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_RUN_ID</td>
<td>ä»“åº“ä¸­æ¯æ¬¡è¿è¡Œçš„å”¯ä¸€ç¼–å·ã€‚ å¦‚æœé‡æ–°è¿è¡Œå·¥ä½œæµè¿è¡Œï¼Œæ­¤æ•°å­—ä¸ä¼šæ›´æ”¹ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_RUN_NUMBER</td>
<td>å­˜å‚¨åº“ä¸­ç‰¹å®šå·¥ä½œæµç¨‹çš„æ¯æ¬¡è¿è¡Œçš„å”¯ä¸€ç¼–å·ã€‚ å¯¹äºå·¥ä½œæµç¨‹çš„ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œæ­¤æ•°å­—ä»1å¼€å§‹ï¼Œå¹¶åœ¨æ¯æ¬¡æ–°è¿è¡Œæ—¶é€’å¢ã€‚ å¦‚æœé‡æ–°è¿è¡Œå·¥ä½œæµè¿è¡Œï¼Œåˆ™æ­¤æ•°å­—ä¸ä¼šæ›´æ”¹ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_ACTION</td>
<td>æ“ä½œå”¯ä¸€çš„æ ‡è¯†ç¬¦ (id)ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_ACTIONS</td>
<td>å½“GitHubæ“ä½œæ­£åœ¨è¿è¡Œå·¥ä½œæµæ—¶ï¼Œè¯·å§‹ç»ˆä¸ºtrueã€‚å¯ä»¥ä½¿ç”¨æ­¤å˜é‡æ¥åŒºåˆ†ä½•æ—¶åœ¨æœ¬åœ°æˆ–é€šè¿‡GitHubè¿è¡Œæµ‹è¯•.</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_ACTOR</td>
<td>å‘èµ·å·¥ä½œæµç¨‹çš„ä¸ªäººæˆ–åº”ç”¨ç¨‹åºçš„åç§°ã€‚ ä¾‹å¦‚ octocatã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_REPOSITORY</td>
<td>æ‰€æœ‰è€…å’Œä»“åº“åç§°ã€‚ ä¾‹å¦‚ octocat/Hello-Worldã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_EVENT_NAME</td>
<td>è§¦å‘å·¥ä½œæµç¨‹çš„ web æŒ‚é’©äº‹ä»¶çš„åç§°ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_EVENT_PATH</td>
<td>å…·æœ‰å®Œæ•´ web æŒ‚é’©äº‹ä»¶æœ‰æ•ˆè´Ÿè½½çš„æ–‡ä»¶è·¯å¾„ã€‚ ä¾‹å¦‚ <code>/github/workflow/event.json</code>ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_WORKSPACE</td>
<td>GitHub å·¥ä½œç©ºé—´ç›®å½•è·¯å¾„ã€‚ å¦‚æœå·¥ä½œæµç¨‹ä½¿ç”¨ <code>actions/checkout</code> æ“ä½œï¼Œå·¥ä½œç©ºé—´ç›®å½•å°†åŒ…å«å­˜å‚¨ä»“åº“å‰¯æœ¬çš„å­ç›®å½•ã€‚ å¦‚æœä¸ä½¿ç”¨ <code>actions/checkout</code> æ“ä½œï¼Œè¯¥ç›®å½•å°†ä¸ºç©ºã€‚ ä¾‹å¦‚ <code>/home/runner/work/my-repo-name/my-repo-name</code>ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_SHA</td>
<td>è§¦å‘å·¥ä½œæµç¨‹çš„æäº¤ SHAã€‚ä¾‹å¦‚ ffac537e6cbbf934b08745a378932722df287a53ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_REF</td>
<td>è§¦å‘å·¥ä½œæµç¨‹çš„åˆ†æ”¯æˆ–æ ‡è®°å‚è€ƒã€‚ä¾‹å¦‚ refs/heads/feature-branch-1ï¼Œå¦‚æœåˆ†æ”¯æˆ–æ ‡è®°éƒ½ä¸é€‚ç”¨äºäº‹ä»¶ç±»å‹ï¼Œåˆ™å˜é‡ä¸ä¼šå­˜åœ¨ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_HEAD_REF</td>
<td>ä»…ä¸ºå¤åˆ»çš„ä»“åº“è®¾ç½®ã€‚ å¤´éƒ¨ä»“åº“çš„åˆ†æ”¯ã€‚</td>
</tr>
<tr>
<td style="text-align:left">GITHUB_BASE_REF</td>
<td>ä»…ä¸ºå¤åˆ»çš„ä»“åº“è®¾ç½®ã€‚ åŸºç¡€ä»“åº“çš„åˆ†æ”¯ã€‚</td>
</tr>
</tbody>
</table>
<p><strong>ä½œç”¨åŸŸ</strong>: æ•´ä¸ªworkflowä¸­</p>
<p>åœ¨ä¾‹å­<a href="https://github.com/cicd-draft/api-test-demo/blob/master/.github/workflows/env_usage1.yml.backup" target="_blank" rel="noopener">env_usage1.yml</a>ä¸­ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡è¾“å‡ºå¦‚ä¸‹(<em>å¦‚æœéœ€è¦æµ‹è¯•ï¼Œå¯å»æ‰åç¼€ <code>.backup</code></em>):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Show Default environment variables</span><br><span class="line">&gt;&gt; In this example &lt;&lt;</span><br><span class="line">HOME is : /home/runner</span><br><span class="line">GITHUB_WORKFLOW is: my workflow demo</span><br><span class="line">GITHUB_RUN_ID is : 62167662</span><br><span class="line">GITHUB_RUN_NUMBER is : 3</span><br><span class="line">GITHUB_ACTION is : run</span><br><span class="line">GITHUB_ACTIONS is : <span class="literal">true</span></span><br><span class="line">GITHUB_ACTOR is : qinrui777</span><br><span class="line">GITHUB_REPOSITORY is : cicd-draft/api-test-demo</span><br><span class="line">GITHUB_EVENT_NAME is : push</span><br><span class="line">GITHUB_EVENT_PATH is : /home/runner/work/_temp/_github_workflow/event.json</span><br><span class="line">GITHUB_WORKSPACE is : /home/runner/work/api-test-demo/api-test-demo</span><br><span class="line">GITHUB_SHA is : 3eb054249e103ab3d8a85e23384472433b9815a8</span><br><span class="line">GITHUB_REF is : refs/heads/master</span><br><span class="line">GITHUB_HEAD_REF is :</span><br><span class="line">GITHUB_BASE_REF is :</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>å¯ä»¥è§‚å¯Ÿåˆ°:GitHub ä¼šä¿ç•™<code>GITHUB_</code>ç¯å¢ƒå˜é‡å‰ç¼€ä¾›GitHubå†…éƒ¨ä½¿ç”¨ã€‚è®¾ç½®æœ‰ GITHUB_ å‰ç¼€çš„ç¯å¢ƒå˜é‡æˆ–å¯†ç å°†å¯¼è‡´é”™è¯¯ã€‚</p>
</blockquote>
<h3 id="3-è‡ªå®šä¹‰ç¯å¢ƒå˜é‡"><a href="#3-è‡ªå®šä¹‰ç¯å¢ƒå˜é‡" class="headerlink" title="3. è‡ªå®šä¹‰ç¯å¢ƒå˜é‡"></a>3. è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</h3><p>é»˜è®¤çš„ç¯å¢ƒå˜é‡æœ‰æ—¶å€™ï¼Œä¸è¶³ä»¥æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ï¼Œè¿™æ˜¯å°±éœ€è¦è‡ªå®šä¹‰ä¸€äº›ï¼Œä»¥ä¾¿ä½¿ç”¨ã€‚æœ€å¥½å®šä¹‰åœ¨ymlæ–‡ä»¶é å‰çš„éƒ¨åˆ†ï¼Œä¸€ç›®äº†ç„¶ã€‚</p>
<p>ç¯å¢ƒå˜é‡å¯ç”¨äºå·¥ä½œæµç¨‹ä¸­çš„æ‰€æœ‰ä½œä¸šå’Œæ­¥éª¤ï¼Œè¿˜å¯ä»¥è®¾ç½®ä»…é€‚ç”¨äºä½œä¸šæˆ–æ­¥éª¤çš„ç¯å¢ƒå˜é‡ï¼Œéœ€è¦æ³¨æ„ç¯å¢ƒå˜é‡<strong>ä½œç”¨åŸŸ</strong>ã€‚</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">my</span> <span class="string">workflow</span> <span class="string">demo</span> </span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> </span><br><span class="line"><span class="attr">  push:</span></span><br><span class="line"><span class="attr">    branches:</span> </span><br><span class="line"><span class="bullet">      -</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨äºè¯¥workflowçš„æ‰€æœ‰jobå’Œsteps</span></span><br><span class="line"><span class="attr">env:</span></span><br><span class="line"><span class="attr">  SERVER:</span> <span class="string">production</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line"><span class="attr">  env_usage_job1:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">job1</span></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">My</span> <span class="string">step</span> <span class="string">one</span></span><br><span class="line"><span class="attr">      run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        echo "this is job1"</span></span><br><span class="line"><span class="string">        echo $SERVER</span></span><br><span class="line"><span class="string"># ä¸èƒ½å†™æˆ echo $<span class="template-variable">&#123;&#123; SERVER &#125;&#125;</span></span></span><br><span class="line"><span class="string"></span><span class="attr">  second_job:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">job2</span></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">macos-latest</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">My</span> <span class="string">step</span> <span class="string">one</span></span><br><span class="line"><span class="attr">      run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        echo "this is job2"</span></span><br><span class="line"><span class="string">        echo $SERVER</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### job çº§åˆ«çš„</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line"><span class="attr">  job1:</span></span><br><span class="line"><span class="attr">    env:</span></span><br><span class="line"><span class="attr">      FIRST_NAME:</span> <span class="string">Mona</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### steps çº§åˆ«çš„</span></span><br><span class="line"><span class="attr">steps:</span></span><br><span class="line"><span class="attr">  - name:</span> <span class="string">Hello</span> <span class="string">world</span></span><br><span class="line"><span class="attr">    run:</span> <span class="string">echo</span> <span class="string">Hello</span> <span class="string">world</span> <span class="string">$FIRST_NAME</span> <span class="string">$middle_name</span> <span class="string">$Last_Name!</span></span><br><span class="line"><span class="attr">    env:</span></span><br><span class="line"><span class="attr">      FIRST_NAME:</span> <span class="string">Mona</span></span><br><span class="line"><span class="attr">      middle_name:</span> <span class="string">The</span></span><br><span class="line"><span class="attr">      Last_Name:</span> <span class="string">Octocat</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æä¸æ‡‚ä¸ºä»€ä¹ˆå®˜ç½‘ç¤ºä¾‹ steps ä¸­çš„ envæ”¾åœ¨ runåé¢?</p>
</blockquote>
<h3 id="4-context-ä¸-environment-variables-çš„å…³ç³»"><a href="#4-context-ä¸-environment-variables-çš„å…³ç³»" class="headerlink" title="4. context ä¸ environment variables çš„å…³ç³»"></a>4. context ä¸ environment variables çš„å…³ç³»</h3><p>The github context contains information about the workflow run and the event that triggered the run. You can read most of the github context data in environment variables. For more information about environment variables, see â€œUsing environment variables.â€</p>
<ul>
<li>Todo</li>
</ul>
<hr>
<p><strong>More Ref:</strong></p>
<ul>
<li><a href="https://help.github.com/en/actions/reference/context-and-expression-syntax-for-github-actions#github-context" target="_blank" rel="noopener">GA Context</a></li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GA/">GA</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Github-Actions-E04è¿è¡Œç¯å¢ƒ-runner" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/21/Github-Actions-E04è¿è¡Œç¯å¢ƒ-runner/"
    >Github Actions E04è¿è¡Œç¯å¢ƒ-runner</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/21/Github-Actions-E04è¿è¡Œç¯å¢ƒ-runner/" class="article-date">
  <time datetime="2020-03-21T08:46:09.000Z" itemprop="datePublished">2020-03-21</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/CICD/">CICD</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p>ä¸€ä¸ªå¯ä»¥ç›´æ¥è¿è¡Œçš„CICDç¯å¢ƒï¼Œç”¨èµ·æ¥æ— ç–‘èŠ‚çœäº†æ­å»ºç¯å¢ƒçš„è¿‡ç¨‹ã€‚ä½†å¯¹äºä¸€ä¸ªæˆ‘ä»¬é™Œç”Ÿçš„è¿è¡Œç¯å¢ƒï¼Œæœ€å¥½è¿˜æ˜¯æå‰äº†è§£ä¸€äº›åŸºç¡€çš„ä¸œè¥¿ï¼Œæ¯”å¦‚ï¼šæœºå™¨çš„æ“ä½œç³»ç»ŸåŠç‰ˆæœ¬ã€å†…å­˜ã€CPUã€æœ‰å¤šå°‘ç£ç›˜å¯ç”¨ã€å½“å‰çš„ç”¨æˆ·æ˜¯ä»€ä¹ˆã€æƒé™æœ‰æ²¡æœ‰é™åˆ¶ï¼Œä»¥åŠworkspaceåœ¨ä»€ä¹ˆç›®å½•ï¼Œä¸ç„¶ä¸€æ—¦é‡åˆ°é—®é¢˜ï¼Œå°±æ— ä»ä¸‹æ‰‹ï¼Œæˆ–è€…æ‰¾é”™æ–¹å‘ã€‚</p>
</blockquote>
<p><em>##### </em>CICDç¯å¢ƒçš„çµé­‚3é—®ï¼š</p>
<ul>
<li>æˆ‘æ˜¯è° <em>-&gt; æ“ä½œç³»ç»Ÿï¼Œå…·ä½“ç‰ˆæœ¬ï¼Œå½“å‰ç”¨æˆ·åŠæƒé™</em></li>
<li>æˆ‘åœ¨å“ªé‡Œ <em>-&gt; å·¥ä½œç›®å½•åœ¨å“ªé‡Œ</em></li>
<li>æˆ‘èƒ½åšä»€ä¹ˆ <em>â€”&gt; æœ‰ä»€ä¹ˆå·¥å…·å·²ç»å®‰è£…äº†ï¼Œè¿˜æ˜¯è¦è‡ªå·±å®‰è£…</em></li>
</ul>
<h3 id="1-GitHub-hosted-runner-ä»‹ç»"><a href="#1-GitHub-hosted-runner-ä»‹ç»" class="headerlink" title="1. GitHub-hosted runner ä»‹ç»"></a>1. GitHub-hosted runner ä»‹ç»</h3><p>ä¸€ä¸ª GitHub-hosted runner æ˜¯ç”±GitHubæ‰˜ç®¡å¹¶å®‰è£…äº†GitHub Actionsè¿è¡Œç¨‹åºåº”ç”¨ç¨‹åºçš„è™šæ‹Ÿæœºã€‚ GitHubä¸ºè¿è¡ŒLinuxï¼ŒWindowså’ŒmacOSæ“ä½œç³»ç»Ÿçš„ç”¨æˆ·æä¾›å¸®åŠ©ã€‚</p>
<p>ä¸ªäººæ€»ç»“ï¼šGitHub Actions runner æ˜¯ä¸€ä¸ª application</p>
<p>å®˜ç½‘ä¹ŸæåŠ <em>â€œThe GitHub Actions runner application is open source. You can contribute and file issues in the runner repository.â€</em></p>
<h3 id="2-ç¡¬ä»¶èµ„æº"><a href="#2-ç¡¬ä»¶èµ„æº" class="headerlink" title="2. ç¡¬ä»¶èµ„æº"></a>2. ç¡¬ä»¶èµ„æº</h3><p>GitHub hosts Linux and Windows runners on Standard_DS2_v2 virtual machines in Microsoft Azure.</p>
<p>GitHub uses MacStadium to host the macOS runners.</p>
<p>æ¯ä¸ªè™šæ‹Ÿæœºæœ‰ç›¸åŒçš„ç¡¬ä»¶èµ„æºå¯ä½¿ç”¨ã€‚æ‹¿ä¸€å°åŒé…ç½®çš„ä¸ªäººç”µè„‘ï¼Œæˆ–è€…äº‘ä¸Šçš„æœåŠ¡å™¨ç›¸æ¯”ï¼ŒGA çš„æœåŠ¡å™¨è¿è¡Œèµ·æ¥ä¼šå¿«ä¸€äº›ã€‚</p>
<ul>
<li>2-core CPU</li>
<li>7 GB of RAM memory</li>
<li>14 GB of SSD disk space</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">Virtual environment</th>
<th>YAML workflow label</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Windows Server 2019</td>
<td>windows-latest or windows-2019</td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 18.04</td>
<td>ubuntu-latest or ubuntu-18.04</td>
</tr>
<tr>
<td style="text-align:left">Ubuntu 16.04</td>
<td>ubuntu-16.04</td>
</tr>
<tr>
<td style="text-align:left">macOS Catalina 10.15</td>
<td>macos-latest or macos-10.15</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Inbound ICMP packets are blocked for all Azure virtual machines, so ping or traceroute commands might not work. For more information about the Standard_DS2_v2 machine resources, see â€œDv2 and DSv2-seriesâ€ in the Microsoft Azure documentation.</p>
</blockquote>
<h3 id="3-è¿è¡Œç”¨æˆ·çš„æƒé™"><a href="#3-è¿è¡Œç”¨æˆ·çš„æƒé™" class="headerlink" title="3. è¿è¡Œç”¨æˆ·çš„æƒé™"></a>3. è¿è¡Œç”¨æˆ·çš„æƒé™</h3><p>å¯ä»¥å†™ä¸€ä¸ªdemoæŸ¥çœ‹ä¸€ä¸‹å½“å‰ç”¨æˆ·ï¼Œä¾‹å­è§ä¸‹é¢ ğŸ‘‡</p>
<p>Linuxå’ŒmacOSè™šæ‹Ÿæœºå‡ä½¿ç”¨æ— å¯†ç sudoè¿è¡Œã€‚ å½“æ‚¨éœ€è¦æ‰§è¡Œå‘½ä»¤æˆ–å®‰è£…éœ€è¦æ¯”å½“å‰ç”¨æˆ·æ›´å¤šç‰¹æƒçš„å·¥å…·æ—¶ï¼Œå¯ä»¥ä½¿ç”¨sudoè€Œä¸éœ€è¦æä¾›å¯†ç ã€‚</p>
<p>Windowsè™šæ‹Ÿæœºè¢«é…ç½®ä¸ºä»¥ç¦ç”¨äº†ç”¨æˆ·å¸æˆ·æ§åˆ¶ï¼ˆUACï¼‰çš„ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€‚</p>
<h3 id="4-æ–‡ä»¶ç³»ç»Ÿ-Filesystems-on-GitHub-hosted-runners"><a href="#4-æ–‡ä»¶ç³»ç»Ÿ-Filesystems-on-GitHub-hosted-runners" class="headerlink" title="4. æ–‡ä»¶ç³»ç»Ÿ(Filesystems on GitHub-hosted runners)"></a>4. æ–‡ä»¶ç³»ç»Ÿ(Filesystems on GitHub-hosted runners)</h3><p>GitHubåœ¨è™šæ‹Ÿæœºä¸Šçš„ç‰¹å®šç›®å½•ä¸­æ‰§è¡Œæ“ä½œå’Œshellå‘½ä»¤, è™šæ‹Ÿæœºä¸Šçš„æ–‡ä»¶è·¯å¾„ä¸æ˜¯é™æ€çš„ã€‚</p>
<p>Docker container filesystem åé¢è®²åˆ°æ—¶å†è¯´</p>
<p>å…³äºæŸ¥çœ‹å½“å‰ç”¨æˆ·å’Œå·¥ä½œç›®å½•çš„demo</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> <span class="string">[push]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line"><span class="attr">  linux:</span></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line">    <span class="comment">#æˆ‘æ˜¯è°</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">whoami</span></span><br><span class="line">    <span class="comment">#æˆ‘åœ¨é‚£å„¿</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        pwd</span></span><br><span class="line"><span class="string">        echo $HOME $GITHUB_WORKSPACE $GITHUB_EVENT_PATH</span></span><br></pre></td></tr></table></figure>
<p>åœ¨æˆ‘çš„<a href="https://github.com/cicd-draft/api-test-demo" target="_blank" rel="noopener">repo</a>ä¸­è¿è¡Œçš„è¾“å‡ºä¸ºï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">runner</span><br><span class="line">/home/runner/work/api-test-demo/api-test-demo</span><br><span class="line">/home/runner /home/runner/work/api-test-demo/api-test-demo /home/runner/work/_temp/_github_workflow/event.json</span><br></pre></td></tr></table></figure></p>
<p>GitHubä¸ºæ¯ä¸ªå·¥ä½œæµåˆ›å»ºçš„ç¯å¢ƒå˜é‡æœ‰å¾ˆå¤šï¼Œåé¢ä¼šå•ç‹¬è®²åˆ°ï¼Œä¹Ÿå¯ä»¥æå‰çœ‹ä¸€ä¸‹<a href="https://help.github.com/en/actions/configuring-and-managing-workflows/using-environment-variables" target="_blank" rel="noopener">æœ‰å“ªäº›ç¯å¢ƒå˜é‡</a>ã€‚è¿™æ ·ç±»ä¼¼çš„<strong>é»˜è®¤çš„ç¯å¢ƒå˜é‡</strong>å°±æ˜¯ç±»ä¼¼äºæˆ‘ä»¬åœ¨jenkinsä¸Šç”¨çš„ <code>BUILD_NUMBER</code>,<code>JOB_NAME</code>ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ã€‚</p>
<h3 id="5-è½¯ä»¶å®‰è£…"><a href="#5-è½¯ä»¶å®‰è£…" class="headerlink" title="5. è½¯ä»¶å®‰è£…"></a>5. è½¯ä»¶å®‰è£…</h3><p>ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šéƒ½é¢„å…ˆå®‰è£…å¥½äº†å¸¸ç”¨è½¯ä»¶ï¼Œè¯¦æƒ…å¯è§ä¸‹æ–¹çš„é“¾æ¥ <a href="https://help.github.com/en/actions/reference/software-installed-on-github-hosted-runners" target="_blank" rel="noopener">https://help.github.com/en/actions/reference/software-installed-on-github-hosted-runners</a></p>
<p><a href="https://github.com/actions/virtual-environments/blob/master/images/linux/Ubuntu1804-README.md" target="_blank" rel="noopener">Ubuntu 18.04 LTS</a><br><a href="https://github.com/actions/virtual-environments/blob/master/images/linux/Ubuntu1604-README.md" target="_blank" rel="noopener">Ubuntu 16.04 LTS</a><br><a href="https://github.com/actions/virtual-environments/blob/master/images/win/Windows2019-Readme.md" target="_blank" rel="noopener">Windows Server 2019</a><br><a href="https://github.com/actions/virtual-environments/blob/master/images/win/Windows2016-Readme.md" target="_blank" rel="noopener">Windows Server 2016</a><br><a href="https://github.com/actions/virtual-environments/blob/master/images/macos/macos-10.15-Readme.md" target="_blank" rel="noopener">MacOS 10.15</a></p>
<p>å¦‚æœä¸æƒ³çœ‹çœ‹é•¿é•¿çš„readmeï¼Œå¯ä»¥åœ¨è¿è¡Œjobä¸­å…ˆæ£€æŸ¥ä»¥ä¸‹è½¯ä»¶æ˜¯å¦å®‰è£…åŠå…·ä½“ç‰ˆæœ¬ï¼›å¦‚æœæœ€åå‘ç°æ²¡æœ‰å®‰è£…ï¼Œå°±æ·»åŠ å®‰è£…çš„å‘½ä»¤å³å¯ã€‚æ¯”å¦‚</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> <span class="string">[push]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line"><span class="attr">  linux:</span></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">sudo</span> <span class="string">apt-get</span> <span class="string">install</span> <span class="string">ninja-build</span></span><br><span class="line"><span class="attr">      - run:</span> <span class="string">ninja</span> <span class="bullet">--version</span></span><br></pre></td></tr></table></figure>
<hr>
<p><strong>æ€è€ƒä¸ªé—®é¢˜ï¼š</strong> è‡ªå®šä¹‰ runnerï¼Œä»¥åŠç”¨ç§æœ‰çš„æœåŠ¡å™¨è¿è¡Œ workflowï¼Œæ€ä¹ˆå®ç°ï¼Ÿ</p>
<blockquote>
<p>æ–¹æ³•è‚¯å®šæ˜¯æœ‰çš„ï¼Œç›¸ä¿¡githubå®˜æ–¹å¯è€ƒè™‘äº†runnerç§æœ‰åŒ–çš„åœºæ™¯(æ¯•ç«Ÿgitlab CI runneråœ¨é‚£é‡Œæ‘†ç€)ï¼Œåç»­æœ‰æ—¶é—´å†ç ”ç©¶</p>
</blockquote>
<hr>
<p><strong>More Ref:</strong></p>
<ul>
<li><a href="https://github.com/actions/runner" target="_blank" rel="noopener">Github actions runner æºç ä»“åº“</a></li>
<li><a href="https://help.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#administrative-privileges-of-github-hosted-runners" target="_blank" rel="noopener">Administrative privileges of GitHub-hosted runners</a></li>
<li><a href="https://help.github.com/en/actions/reference/virtual-environments-for-github-hosted-runners#docker-container-filesystem" target="_blank" rel="noopener">Docker container filesystem</a></li>
<li><a href="https://help.github.com/en/actions/hosting-your-own-runners/about-self-hosted-runners" target="_blank" rel="noopener">About self-hosted runners</a></li>
<li><a href="https://help.github.com/en/github/setting-up-and-managing-billing-and-payments-on-github/viewing-your-github-actions-usage" target="_blank" rel="noopener">billing</a></li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GA/">GA</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Shell-toolbox" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/20/Shell-toolbox/"
    >Shell toolbox</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/20/Shell-toolbox/" class="article-date">
  <time datetime="2020-03-20T12:10:01.000Z" itemprop="datePublished">2020-03-20</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Shell/">Shell</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="1-crontab"><a href="#1-crontab" class="headerlink" title="1 crontab"></a>1 <a href="https://crontab.guru/examples.html" target="_blank" rel="noopener">crontab</a></h3><p>æ•™ä½ æ€ä¹ˆå†™å®šæ—¶ä»»åŠ¡çš„ç½‘ç«™ï¼Œå¹¶ç»™å‡ºäº†å¾ˆå¤šç¤ºä¾‹ï¼Œæ¯”å¦‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#â€œAt every 2nd minute.â€</span></span><br><span class="line">*/2 * * * *</span><br><span class="line"><span class="comment"># At 22:00 on every day-of-week from Monday through Friday</span></span><br><span class="line">0 22 * * 1-5</span><br></pre></td></tr></table></figure>
<p>ä¸è¦ä»¥ä¸ºä¼šå†™crontabå°±å¯ä»¥äº†ï¼Œå»ºè®®æœ‰ç©ºä»¥ä¸‹å†…å®¹äº†è§£ä¸‹ï¼š</p>
<ul>
<li><a href="https://crontab.guru/tips.html" target="_blank" rel="noopener">tipså°å»ºè®®</a></li>
<li><a href="https://www.endpoint.com/blog/2008/12/08/best-practices-for-cron" target="_blank" rel="noopener">æœ€ä½³å®è·µ</a> </li>
<li><a href="https://cronitor.io/docs/cron-troubleshooting-guide?utm_source=crontabguru&amp;utm_campaign=cron_troubleshooting" target="_blank" rel="noopener">é—®é¢˜å®šä½</a></li>
<li><strong>mcron</strong>: <em>Another alternative for complicated schedules</em></li>
</ul>
<blockquote>
<p>æœ€åï¼Œæœ‰å…´è¶£å¯ä»¥çœ‹çœ‹ Cron Job Monitoring çš„å·¥å…· <a href="https://cronitor.io/index" target="_blank" rel="noopener">cronitor</a>,ä¸è¿‡è²Œä¼¼æ˜¯æ”¶è´¹çš„ã€‚çœ‹ä»‹ç»ï¼Œå¯ç”¨äº Cron Job, Scheduled Eventï¼ˆAWS),Task Scheduler, Kubernetes Cron Job, Java Cron Job, Jenkins Jobå¤šç±»å‹çš„ç›‘æ§ã€‚</p>
</blockquote>
<h3 id="2-Preventing-duplicate-cron-job-executions"><a href="#2-Preventing-duplicate-cron-job-executions" class="headerlink" title="2. Preventing duplicate cron job executions"></a>2. Preventing duplicate cron job executions</h3><p><a href="http://bencane.com/2015/09/22/preventing-duplicate-cron-job-executions/" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a>,å…³äº <code>Preventing duplicate cron job executions</code> æåˆ°äº†å¤šç§æ–¹æ³•å’Œå·¥å…·ã€‚å¦å¤–ï¼Œä¸­æ–‡æœç´¢çš„è¯ <code>flock</code> å‘½ä»¤è¾ƒå¤šï¼Œæ¯”å¦‚<a href="https://blog.csdn.net/fdipzone/article/details/38284009" target="_blank" rel="noopener">è¿™ä¸ª</a>ã€‚</p>
<p><a href="https://coolshell.cn/articles/19219.html" target="_blank" rel="noopener">æ‰“é€ é«˜æ•ˆçš„å·¥ä½œç¯å¢ƒ â€“ SHELL ç¯‡</a></p>
<h3 id="3-For-å¾ªç¯"><a href="#3-For-å¾ªç¯" class="headerlink" title="3. For å¾ªç¯"></a>3. For å¾ªç¯</h3><p>å‚è€ƒ<br><a href="https://linuxize.com/post/bash-for-loop/" target="_blank" rel="noopener">https://linuxize.com/post/bash-for-loop/</a><br><a href="https://www.cyberciti.biz/faq/bash-for-loop/" target="_blank" rel="noopener">https://www.cyberciti.biz/faq/bash-for-loop/</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..5&#125;</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">   <span class="built_in">echo</span> <span class="string">"Welcome <span class="variable">$i</span> times"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>æˆ–è€…å†™åœ¨ä¸€è¡Œé‡Œ <code>for i in {1..5};do echo &quot;Welcome $i times&quot;;done</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(ls ./* ); </span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span>; </span><br><span class="line">  date; </span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> s <span class="keyword">in</span> server1 server2 server3</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    ssh vivek@<span class="variable">$&#123;s&#125;</span> <span class="string">"uptime"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>Loop over array elements</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">BOOKS=(<span class="string">'In Search of Lost Time'</span> <span class="string">'Don Quixote'</span> <span class="string">'Ulysses'</span> <span class="string">'The Great Gatsby'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> book <span class="keyword">in</span> <span class="string">"<span class="variable">$&#123;BOOKS[@]&#125;</span>"</span>; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"Book: <span class="variable">$book</span>"</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<ul>
<li><a href="https://linuxize.com/post/bash-for-loop/" target="_blank" rel="noopener">1</a></li>
</ul>
<h3 id="4-xargs"><a href="#4-xargs" class="headerlink" title="4. xargs"></a>4. xargs</h3><p>å…ˆçœ‹ğŸŒ°ï¼Œå¿«é€Ÿ scale down k8s deployment.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kubectl get deploy -n &lt;YOUR_NAMESPACE&gt; -o name | xargs -I % kubectl scale % --replicas=0 -n &lt;YOUR_NAMESPACE&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ†è§£ </span></span><br><span class="line">kubectl get deploy -n &lt;YOUR_NAMESPACE&gt; -o name</span><br><span class="line"></span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line">deployment.extensions/backend-filebeat</span><br><span class="line">deployment.extensions/daemon-filebeat</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä¸€æ¡ä¸€æ¡çš„æ‰§è¡Œï¼Œå¦‚ä¸‹</span></span><br><span class="line">kubectl scale deploy/daemon-filebeat --replicas=10 -n &lt;YOUR_NAMESPACE&gt;</span><br></pre></td></tr></table></figure>
<p>å®é™…ä½¿ç”¨çš„æ˜¯ <strong>xargs å®ç°å‚æ•°ä¼ é€’</strong> è¿™ä¸€æ–¹æ³•ï¼š<br><code>ls *.log | xargs -I {} mv {} log_backup_dir/</code><br>è¿™é‡Œçš„ <code>{}</code> ä¹Ÿå¯ä»¥ç”¨ <code>%</code> ä»£æ›¿ï¼Œæ¯•ç«Ÿå¯ä»¥å°‘æ•²ä¸€ä¸‹é”®ç›˜ã€‚å¦å¤–å¯ä»¥çœ‹çœ‹ <em>xargsä¸ç®¡é“çš„åŒºåˆ«</em></p>
<p>æ›´å¤šå®é™…ç”¨æ³•å¯ä»¥å‚è€ƒï¼š <a href="https://blog.csdn.net/zhangmingxingwei/article/details/8996627" target="_blank" rel="noopener">https://blog.csdn.net/zhangmingxingwei/article/details/8996627</a> , å…¶ä¸­çš„<code>git log --format=&quot;%H %P&quot; | xargs -L 1 git diff</code> ç”¨æ³•ä¹Ÿå¾ˆä¸é”™ã€‚ å¦å¤–ï¼Œæœ‰ä¸€ä¸ªåŸç†ç¯‡ä¹Ÿå»ºè®®çœ‹çœ‹ï¼Œ<a href="https://www.cnblogs.com/f-ck-need-u/p/5925923.html" target="_blank" rel="noopener">æˆ³è¿™å„¿</a></p>
<h3 id="5-pssh-pscp"><a href="#5-pssh-pscp" class="headerlink" title="5. pssh pscp"></a>5. pssh pscp</h3><p>pssh: Execute Commands on Multiple Remote Linux Servers Using Single Terminal</p>
<p>ä½¿ç”¨ <a href="https://www.tecmint.com/execute-commands-on-multiple-linux-servers-using-pssh/" target="_blank" rel="noopener">é“¾æ¥1</a>, <a href="https://www.golinuxcloud.com/pssh-commands-parallel-ssh-linux-examples/" target="_blank" rel="noopener">é“¾æ¥2</a></p>
<p>pscp ç±»ä¼¼psshï¼Œå¯ä»¥å¸®åŠ©ä½ ä»ä¸€å°ä¸»æœºä¸Šå°†æ–‡ä»¶å‘é€åˆ°å¤šå°ä¸»æœº</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">                            +--------------+</span><br><span class="line">                  +--------&gt;|  server 1    |</span><br><span class="line">                  |         +--------------+</span><br><span class="line">                  |</span><br><span class="line">                  |</span><br><span class="line">                  |         </span><br><span class="line">+-------------|---          +--------------+</span><br><span class="line">| pssh /pscp  |------------&gt;|  server 2    | </span><br><span class="line">+-------------+---          +--------------+</span><br><span class="line">                  |</span><br><span class="line">                  |</span><br><span class="line">                  |         +--------------+</span><br><span class="line">                  +--------&gt;|  server 3    |</span><br><span class="line">                            +--------------+</span><br></pre></td></tr></table></figure>
<hr>
<p><a href="https://www.cnblogs.com/f-ck-need-u/p/7048359.html#blogshell" target="_blank" rel="noopener">shellç³»åˆ—1-æ¥æºcnblogs</a></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shell/">Shell</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Github-Actions-E03è§¦å‘" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/18/Github-Actions-E03è§¦å‘/"
    >Github Actions E03è§¦å‘</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/18/Github-Actions-E03è§¦å‘/" class="article-date">
  <time datetime="2020-03-18T06:12:50.000Z" itemprop="datePublished">2020-03-18</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/CICD/">CICD</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p>çŸ¥é“æ‰‹æœºèƒ½å¤Ÿæ‰“ç”µè¯ï¼Œè¿˜å¾—çŸ¥é“æ€ä¹ˆæŠŠç”µè¯å·ç æ‹¨å‡ºå»ï¼Œè¿™æ ·æ‰èƒ½å®ç°é€šè¯çš„åŠŸèƒ½ï¼›è€ŒCICDçš„åœºæ™¯ä¼šæ›´ä¸ºå¤æ‚ï¼Œå¦‚æœä¸€ä¸ªä»»åŠ¡åœ¨ä½ ä¸æƒ³è®©å®ƒè¿è¡Œçš„æ—¶å€™è¿è¡Œï¼Œä¼šæµªè´¹è‡ªå·±èµ„æºï¼Œå½±å“äº§å‡ºç‰©ã€‚</p>
</blockquote>
<p>å…³äºè§¦å‘å·¥ä½œæµ-workflowï¼Œgithub actionsçš„åŸæ–‡å¦‚ä¸‹</p>
<p><strong>Events that trigger workflows</strong></p>
<p>You can configure your workflows to run when specific activity on GitHub happens, at a scheduled time, or when an event outside of GitHub occurs.</p>
<hr>
<p>æ ¹æ®ä¸Šé¢æè¿°ï¼Œå¤§è‡´æœ‰3ç±»äº‹ä»¶(<em>é”™äº†çš„è¯æ¬¢è¿æŒ‡æ­£</em>)ï¼Œå®˜ç½‘æ–‡æ¡£æ›´è¯¦ç»†çš„åœ¨<a href="https://help.github.com/en/actions/reference/events-that-trigger-workflows" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼Œä¸æ˜¯åœ¨<a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/configuring-a-workflow#triggering-a-workflow-with-events" target="_blank" rel="noopener"><em>é‚£é‡Œ</em></a></p>
<blockquote>
<p>æœ€å¥½çœ‹è‹±æ–‡çš„ï¼Œä¸­æ–‡ä¼¼ä¹æ²¡æœ‰ç¿»è¯‘å®Œï¼Œå°‘äº†ä¸€ä¸ª <em>Triggering new workflows using a personal access token</em> æ–¹æ³• ğŸ˜¢</p>
</blockquote>
<h4 id="ä¸€ã€Githubçš„ç‰¹å®šäº‹ä»¶-Specific-activity-on-GitHub-happens"><a href="#ä¸€ã€Githubçš„ç‰¹å®šäº‹ä»¶-Specific-activity-on-GitHub-happens" class="headerlink" title="ä¸€ã€Githubçš„ç‰¹å®šäº‹ä»¶ (Specific activity on GitHub happens)"></a>ä¸€ã€Githubçš„ç‰¹å®šäº‹ä»¶ (Specific activity on GitHub happens)</h4><p>ç®—æ˜¯æœ€å¸¸è§çš„ä¸€ç§æ–¹å¼ï¼Œæ¯”å¦‚ï¼šå½“å°æ˜æ›´æ–°äº†masteråˆ†æ”¯ä»£ç ï¼Œæ¨é€åˆ°ä»“åº“åè§¦å‘è¿™ä¸ªCICDæµç¨‹ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å•ä¸€äº‹ä»¶ Trigger on push</span></span><br><span class="line"><span class="attr">on:</span> <span class="string">push</span></span><br><span class="line"><span class="comment">#------------------åˆ†å‰²çº¿----------------</span></span><br><span class="line"><span class="comment"># ä¸€ä¸ªäº‹ä»¶åˆ—è¡¨ä¹Ÿå¯ä»¥ï¼ŒTrigger the workflow on push or pull request</span></span><br><span class="line"><span class="attr">on:</span> <span class="string">[push,</span> <span class="string">pull_request]</span></span><br><span class="line"><span class="comment">#------------------åˆ†å‰²çº¿----------------</span></span><br><span class="line"><span class="comment"># ä¸åŒç±»å‹çš„äº‹ä»¶çš„ç»„åˆ</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="comment"># Trigger the workflow on push or pull request,</span></span><br><span class="line">  <span class="comment"># but only for the master branch</span></span><br><span class="line"><span class="attr">  push:</span></span><br><span class="line"><span class="attr">    branches:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">master</span></span><br><span class="line"><span class="attr">  pull_request:</span></span><br><span class="line"><span class="attr">    branches:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">master</span></span><br><span class="line">  <span class="comment"># Also trigger on page_build, as well as release created events</span></span><br><span class="line"><span class="attr">  page_build:</span></span><br><span class="line"><span class="attr">  release:</span></span><br><span class="line"><span class="attr">    types:</span> <span class="comment"># This configuration does not affect the page_build event above</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">created</span></span><br></pre></td></tr></table></figure>
<p>Github çš„ webhooks eventæœ‰å¾ˆå¤šï¼Œæ¯ä¸ªeventåˆåŒ…å«å¾ˆå¤šç±»å‹ã€‚æŸ¥çœ‹<a href="https://developer.github.com/webhooks/#events" target="_blank" rel="noopener">æ‰€æœ‰çš„event</a></p>
<p>é¡ºå¸¦ç†Ÿæ‚‰ä¸‹ github webhook çš„æ¦‚å¿µ</p>
<p><strong>å®˜æ–¹ä»‹ç»</strong>ï¼šWebhooks provide a way for notifications to be delivered to an external web server whenever certain actions occur on a repository or organization.<a href="https://help.github.com/en/github/extending-github/about-webhooks" target="_blank" rel="noopener">åŸæ–‡ç‚¹è¿™é‡Œ</a></p>
<blockquote>
<p><em>é€šä¿—ç‰ˆ</em>ï¼šå¯ä»¥å°† github Webhook ç†è§£ä¸ºä¸€ä¸ªå‹¤å‹¤æ³æ³çš„â€œå§åº•â€ï¼Œå®ƒè¢«å®‰æ’åˆ°githubçš„ä¸€ä¸ªä»“åº“æˆ–æŸä¸ªç»„ç»‡ä¸­ï¼Œä¸€æ—¦å‘ç”Ÿäº†ä¹‹å‰å®šä¹‰å¥½çš„äº‹æƒ…ï¼Œå®ƒä¼šç¬¬ä¸€æ—¶é—´æŠŠä»¥æŸç§çº¦å®šå¥½çš„æ–¹å¼å‘ŠçŸ¥ç»™ github aciontsã€‚<br><em>ç®€å•(ä¸ä¸¥è°¨åœ°)è€Œè¨€</em>: å½“æœ‰è¡Œä¸ºè§¦å‘æ—¶ï¼ŒGithub ä¼šå‘é€ POST è¯·æ±‚è‡³æŒ‡å®šçš„ URLã€‚</p>
</blockquote>
<p>è¯·çœ‹ğŸŒ°<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line"><span class="attr">  issue_comment:</span></span><br><span class="line"><span class="attr">    types:</span> <span class="string">[created,</span> <span class="string">deleted]</span></span><br></pre></td></tr></table></figure></p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªäº‹ä»¶çš„æ‰€æœ‰æ´»åŠ¨ç±»å‹éƒ½ä¼šè§¦å‘å·¥ä½œæµç¨‹è¿è¡Œã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨typeså…³é”®å­—å°†å·¥ä½œæµç¨‹è¿è¡Œé™åˆ¶ä¸ºç‰¹å®šçš„æ´»åŠ¨ç±»å‹ï¼Œç²¾ç¡®ä½¿ç”¨ã€‚</p>
<blockquote>
<p>å»¶ä¼¸ä¸€ä¸‹ï¼š github webhook -&gt;  å¹¿ä¹‰çš„webhooksã€ githubå“ªäº›<a href="https://developer.github.com/webhooks/#events" target="_blank" rel="noopener">events</a></p>
</blockquote>
<h4 id="äºŒã€å®šæ—¶äº‹ä»¶-Scheduled-events"><a href="#äºŒã€å®šæ—¶äº‹ä»¶-Scheduled-events" class="headerlink" title="äºŒã€å®šæ—¶äº‹ä»¶(Scheduled events)"></a>äºŒã€å®šæ—¶äº‹ä»¶(Scheduled events)</h4><p>ç±»ä¼¼crontabçš„ç”¨æ³•ï¼Œä½¿ç”¨<a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/crontab.html#tag_20_25_07" target="_blank" rel="noopener">POSIX cron è¯­æ³•</a>åœ¨æŒ‡å®šçš„æ—¶é—´(<strong>UTC æ—¶é—´</strong>)è¿è¡Œã€‚</p>
<p>åœ¨workflowä¸­ç”¨ dateå‘½ä»¤ä¹Ÿå¯ä»¥çœ‹åˆ°è¾“å‡ºçš„æ˜¯UTCæ—¶é—´ï¼Œå¦‚:<code>Thu Mar 19 12:08:10 UTC 2020</code>ã€‚ä½¿ç”¨ä¸­è¦æ ¹æ®è‡ªå·±çš„æ—¶åŒºè®¡ç®—å‡ºUTCæ—¶é—´ï¼Œç„¶åé…ç½®ä¸Šã€‚</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span></span><br><span class="line"><span class="attr">  schedule:</span></span><br><span class="line">    <span class="comment"># * is a special character in YAML so you have to quote this string</span></span><br><span class="line"><span class="attr">    - cron:</span>  <span class="string">'*/15 * * * *'</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨ï¼š GitHub æ“ä½œ ä¸æ”¯æŒéæ ‡å‡†è¯­æ³• @yearlyã€@monthlyã€@weeklyã€@dailyã€@hourly å’Œ @rebootã€‚è¿™æ ·çš„è¯­æ³•ï¼Œå¦‚ @midnight åœ¨jenkinsä¸­æ˜¯æ”¯æŒçš„ï¼Œéœ€è¦åŒºåˆ«å¼€æ¥ã€‚</p>
</blockquote>
<h4 id="ä¸‰ã€å¤–éƒ¨äº‹ä»¶-External-events"><a href="#ä¸‰ã€å¤–éƒ¨äº‹ä»¶-External-events" class="headerlink" title="ä¸‰ã€å¤–éƒ¨äº‹ä»¶(External events)"></a>ä¸‰ã€å¤–éƒ¨äº‹ä»¶(External events)</h4><ul>
<li>é€šè¿‡Github API è§¦å‘å«åš repository_dispatch çš„äº‹ä»¶ï¼Œä»¥æ­¤æ¥è§¦å‘workflow.</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">on:</span> <span class="string">repository_dispatch</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ä½¿ç”¨ä¸ªäººè®¿é—®ä»¤ç‰Œè§¦å‘æ–°å·¥ä½œæµç¨‹(Triggering new workflows using a personal access token)</li>
</ul>
<p>åŸæ–‡å¼•ç”¨ï¼š<br><em>For example, if a workflow run pushes code using the repositoryâ€™s GITHUB_TOKEN, a new workflow will not run even when the repository contains a workflow configured to run when push events occur. </em></p>
<p><em>If you would like to trigger a workflow from a workflow run, you can trigger the event using a personal access token. Youâ€™ll need to create a personal access token and store it as a secret in your repository. To minimize your GitHub Actions usage costs, ensure that you donâ€™t create recursive or unintended workflow runs.</em></p>
<p>ä¸Šé¢æåŠçš„2ä¸­æ–¹æ³•ï¼Œéƒ½å±äºç”¨å¤–éƒ¨æ–¹æ³•æ¥è§¦å‘ workflowã€‚ è€Œä¸Šä¸€æ®µè‹±æ–‡ä¹ŸæåŠ workflow è§¦å‘workflowçš„æƒ…å†µï¼Œæœ‰éœ€è¦å¯è¯¦ç»†ç ”ç©¶ã€‚</p>
<hr>
<p><strong>More Ref:</strong></p>
<ul>
<li><a href="https://help.github.com/en/actions/reference/events-that-trigger-workflows" target="_blank" rel="noopener">https://help.github.com/en/actions/reference/events-that-trigger-workflows</a></li>
<li><a href="https://developer.github.com/webhooks/" target="_blank" rel="noopener">https://developer.github.com/webhooks/</a></li>
<li><a href="https://help.github.com/cn/actions/reference/workflow-syntax-for-github-actions#patterns-to-match-branches-and-tags" target="_blank" rel="noopener">Patterns to match branches and tags</a></li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GA/">GA</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Github-Actions-E02æœ€å°Demo" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/17/Github-Actions-E02æœ€å°Demo/"
    >Github Actions E02æœ€å°Demo</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/17/Github-Actions-E02æœ€å°Demo/" class="article-date">
  <time datetime="2020-03-17T11:24:12.000Z" itemprop="datePublished">2020-03-17</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/CICD/">CICD</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p><a href="https://www.devops-tech.cn/2020/03/16/Github-Actions-E01/" target="_blank" rel="noopener">å‰é¢ä¸€ç¯‡</a>å·²ç»è¯´æ˜ä¸€äº›æ¦‚å¿µï¼Œäºæ˜¯ä¸ºäº†æ›´å¥½çš„ç†è§£ï¼Œç›´æ¥ç”¨ä¸€ä¸ªç®€å•çš„demoå¸®åŠ©è¿›ä¸€æ­¥ç†è§£æ¦‚å¿µã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ä»“åº“ï¼š <a href="https://github.com/cicd-draft/api-test-demo" target="_blank" rel="noopener">https://github.com/cicd-draft/api-test-demo</a></p>
<h3 id="1-é…ç½®å·¥ä½œæµ"><a href="#1-é…ç½®å·¥ä½œæµ" class="headerlink" title="1.é…ç½®å·¥ä½œæµ"></a>1.é…ç½®å·¥ä½œæµ</h3><h4 id="1-1-æ­¥éª¤ä¸€"><a href="#1-1-æ­¥éª¤ä¸€" class="headerlink" title="1.1 æ­¥éª¤ä¸€"></a>1.1 æ­¥éª¤ä¸€</h4><p>åœ¨ä»“åº“çš„æ ¹ç›®å½•ï¼Œåˆ›å»ºåä¸º .github/workflows çš„ç›®å½•ä»¥å­˜å‚¨å·¥ä½œæµç¨‹æ–‡ä»¶ã€‚</p>
<h4 id="1-2-æ­¥éª¤äºŒ"><a href="#1-2-æ­¥éª¤äºŒ" class="headerlink" title="1.2 æ­¥éª¤äºŒ"></a>1.2 æ­¥éª¤äºŒ</h4><p>åœ¨ <code>.github/workflows</code> ä¸­ï¼Œä¸ºå·¥ä½œæµç¨‹æ·»åŠ  .yml æˆ– .yaml æ–‡ä»¶ã€‚ ä¾‹å¦‚ .github/workflows/demo.ymlã€‚</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">my</span> <span class="string">workflow</span> <span class="string">demo</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># æ­¤å¤„ä½¿ç”¨æœ€å¸¸è§çš„è§¦å‘æ–¹æ³•ï¼Œè¿˜æœ‰å…¶ä»–çš„å¾ˆå¤šæ–¹æ³•å¯æ»¡è¶³ä¸åŒéœ€æ±‚</span></span><br><span class="line"><span class="attr">on:</span> </span><br><span class="line"><span class="attr">  push:</span></span><br><span class="line"><span class="attr">    branches:</span> </span><br><span class="line"><span class="bullet">      -</span> <span class="string">master</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#å·¥ä½œæµç¨‹è¿è¡ŒåŒ…æ‹¬ä¸€é¡¹æˆ–å¤šé¡¹ä½œä¸šã€‚ ä½œä¸šé»˜è®¤æ˜¯å¹¶è¡Œè¿è¡Œã€‚ è¦æŒ‰é¡ºåºè¿è¡Œä½œä¸šï¼Œneeds å…³é”®è¯åœ¨å…¶ä»–ä½œä¸šä¸Šå®šä¹‰ä¾èµ–é¡¹ã€‚</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="comment">#æ¯é¡¹ä½œä¸šå¿…é¡»å…³è”ä¸€ä¸ª IDã€‚&lt;job_id&gt; å¿…é¡»ä»¥å­—æ¯æˆ– _ å¼€å¤´</span></span><br><span class="line"><span class="attr">  my_first_job:</span></span><br><span class="line">    <span class="comment"># ä½œä¸š1åç§°ä¸º Demo First job,ä¹Ÿæ˜¯ä½œä¸šæ˜¾ç¤ºåœ¨ GitHub ä¸Šçš„åç§°ã€‚</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">Demo</span> <span class="string">First</span> <span class="string">job</span></span><br><span class="line">    <span class="comment"># æ­¤ä½œä¸šåœ¨ Linux ä¸Šè¿è¡Œ</span></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">My</span> <span class="string">step</span> <span class="string">one</span></span><br><span class="line"><span class="attr">      run:</span> <span class="string">echo</span> <span class="string">"Hello ,Github actions, I'm &gt;&gt;My step one&lt;&lt;"</span></span><br><span class="line"><span class="attr">    - name:</span> <span class="string">My</span> <span class="string">step</span> <span class="string">two</span></span><br><span class="line"><span class="attr">      run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        echo "My step one begin..."</span></span><br><span class="line"><span class="string">        echo "doing..."</span></span><br><span class="line"><span class="string">        echo "Finished!!!"</span></span><br><span class="line"><span class="string"></span><span class="attr">  my_second_job:</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">Demo</span> <span class="string">Second</span> <span class="string">job</span></span><br><span class="line"><span class="attr">    runs-on:</span> <span class="string">macos-latest</span></span><br><span class="line"><span class="attr">    steps:</span></span><br><span class="line"><span class="attr">      - name:</span> <span class="string">check</span> <span class="string">OS</span> <span class="string">info</span></span><br><span class="line">        <span class="string">run</span> <span class="string">:</span> <span class="string">system_profiler</span> <span class="string">SPSoftwareDataType</span></span><br></pre></td></tr></table></figure>
<h4 id="1-3-æ­¥éª¤ä¸‰"><a href="#1-3-æ­¥éª¤ä¸‰" class="headerlink" title="1.3 æ­¥éª¤ä¸‰"></a>1.3 æ­¥éª¤ä¸‰</h4><p>å°†å·¥ä½œæµç¨‹æ–‡ä»¶ä¸­çš„æ›´æ”¹æäº¤åˆ°æ‚¨å¸Œæœ›å…¶ä¸­è¿è¡Œå·¥ä½œæµç¨‹çš„åˆ†æ”¯ã€‚</p>
<p>åˆ°è¿™é‡Œä¸€ä¸ªç®€å•çš„demoå°±ç®—å®Œæˆäº†ï¼Œå¯ä»¥å» <strong>Actions</strong> æŒ‰é’®ä¸‹æŸ¥çœ‹è¿è¡Œæƒ…å†µã€‚</p>
<h3 id="2-ç®¡ç†å·¥ä½œæµ"><a href="#2-ç®¡ç†å·¥ä½œæµ" class="headerlink" title="2.ç®¡ç†å·¥ä½œæµ"></a>2.ç®¡ç†å·¥ä½œæµ</h3><p><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/managing-a-workflow-run" target="_blank" rel="noopener">å®˜ç½‘é“¾æ¥</a>æœ‰è¯¦ç»†è¯´æ˜ä»¥ä¸‹æ¯ä¸ªæ“ä½œä¸­çš„ç»†èŠ‚</p>
<blockquote>
<p>ç”±äºå›¾ç‰‡å¤ªå¤š,å°±ä¸åšæ¬è¿å·¥äº†</p>
</blockquote>
<ul>
<li><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/managing-a-workflow-run#about-workflow-permissions" target="_blank" rel="noopener">å…³äºå·¥ä½œæµç¨‹æƒé™</a></li>
<li><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/managing-a-workflow-run#about-workflow-management" target="_blank" rel="noopener">å…³äºå·¥ä½œæµç¨‹ç®¡ç†</a></li>
<li><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/managing-a-workflow-run#viewing-your-workflow-history" target="_blank" rel="noopener">æŸ¥çœ‹å·¥ä½œæµç¨‹å†å²è®°å½•</a></li>
<li><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/managing-a-workflow-run#canceling-a-workflow-run" target="_blank" rel="noopener">å–æ¶ˆå·¥ä½œæµç¨‹è¿è¡Œ</a></li>
<li><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/managing-a-workflow-run#viewing-logs-to-diagnose-failures" target="_blank" rel="noopener">æŸ¥çœ‹æ—¥å¿—ä»¥è¯Šæ–­æ•…éšœ</a></li>
<li><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/managing-a-workflow-run#searching-logs" target="_blank" rel="noopener">æœç´¢æ—¥å¿—</a></li>
<li><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/managing-a-workflow-run#downloading-logs" target="_blank" rel="noopener">ä¸‹è½½æ—¥å¿—</a></li>
<li><a href="https://help.github.com/cn/actions/configuring-and-managing-workflows/managing-a-workflow-run#enabling-debug-logging" target="_blank" rel="noopener">å¯ç”¨è°ƒè¯•æ—¥å¿—</a></li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GA/">GA</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-about" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/16/about/"
    >about</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/16/about/" class="article-date">
  <time datetime="2020-03-16T11:29:24.000Z" itemprop="datePublished">2020-03-16</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <blockquote>
<p>Ops, China Wuhan.</p>
</blockquote>
<p>ç°å±…: æ­¦æ±‰<br>GitHub: ï½<br>QQ: 771963601<br>å¾®ä¿¡: ï½</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Github-Actions-E01åˆè¯†" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/16/Github-Actions-E01åˆè¯†/"
    >Github Actions E01åˆè¯†</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/16/Github-Actions-E01åˆè¯†/" class="article-date">
  <time datetime="2020-03-16T08:39:12.000Z" itemprop="datePublished">2020-03-16</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/CICD/">CICD</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><blockquote>
<p>éšç€github actionsåœ¨2019å¹´ä¸‹åŠå¹´çš„æ¨å‡ºï¼Œè¶Šæ¥è¶Šå¤šçš„äººè®¤è¯†å¹¶äº†è§£åˆ°å®ƒã€‚è€Œä¹Ÿå› ä¸ºé¡¹ç›®ä¸Šçš„æœºé‡ï¼Œæƒ³å°è¯•ä¸€ä¸‹å®ƒã€‚äºæ˜¯ä¼šè¾ƒå®Œæ•´åœ°ä»ä¸ªäººä½¿ç”¨è§’åº¦å»è®°å½•ä¸€ä¸‹ï¼Œä¼šæœ‰ä¸€ç³»åˆ—çš„å…³äºGithub actionsçš„<a href="https://www.devops-tech.cn/tags/GA/" target="_blank" rel="noopener">æ–‡ç« </a>ã€‚</p>
</blockquote>
<blockquote>
<p>å¦å¤–ï¼Œä¸ºæ–¹ä¾¿ä¼šå°† Github actions ç®€ç§°ä¸º<strong>GA</strong>; å¦‚æœå®˜æ–¹æœ‰ç®€å†™ï¼Œåˆ°æ—¶å€™å†ç»Ÿä¸€æ›´æ¢ã€‚</p>
</blockquote>
<h3 id="0-Github-Actionsçš„å†å²"><a href="#0-Github-Actionsçš„å†å²" class="headerlink" title="0. Github Actionsçš„å†å²"></a>0. Github Actionsçš„å†å²</h3><p>2018å¹´10æœˆ16æ—¥ï¼Œå…¨çƒæœ€å¤§å¼€å‘è€…ç¤¾åŒºGitHub Universeå¼€å‘è€…å¤§ä¼šåœ¨æ—§é‡‘å±±å¬å¼€ï¼Œå‘å¸ƒäº†æ–°äº§å“GitHub Actionsã€‚ä½†æ˜¯ä»…å¤„äº <strong>limited public beta</strong>ã€‚ä¸ªäººæ˜¯2019å¹´9,10æœˆä»½çš„æ—¶å€™çœ‹åˆ°æ–°é—»æ¶ˆæ¯ï¼Œå¬è¯´äº†è¿™ä¸ªæ–°è¯ã€‚å½“æ—¶è¿˜æ˜¯ Beta ç‰ˆæœ¬,éœ€è¦è‡ªå·±ç®€å•çš„ç”³è¯·ä¸€ä¸‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚è€Œåˆ°è¿™ä¸ªæ—¶é—´ç‚¹(2020.03),å¯¹äºå…¬å¼€çš„ Github Public repositories æ—©å·²ç»å¯ä»¥å…¨é¢ä½¿ç”¨(â€˜2019å¹´11æœˆ13æ—¥ GitHub Actions å°†åœ¨ GitHub Universe ä¸Šæ­£å¼å‘å¸ƒâ€™)ã€‚</p>
<h3 id="1-ä»€ä¹ˆæ˜¯Github-Actions"><a href="#1-ä»€ä¹ˆæ˜¯Github-Actions" class="headerlink" title="1. ä»€ä¹ˆæ˜¯Github Actions"></a>1. ä»€ä¹ˆæ˜¯Github Actions</h3><p>æ ¹æ®<a href="https://github.com/features/actions" target="_blank" rel="noopener">å®˜ç½‘</a>çš„ä»‹ç»å¦‚ä¸‹ï¼š</p>
<p><strong>Github Actions</strong></p>
<p>Automate your workflow from idea to production. </p>
<p><em>GitHub Actions makes it easy to automate all your software workflows, now with world-class CI/CD. Build, test, and deploy your code right from GitHub. Make code reviews, branch management, and issue triaging work the way you want.</em></p>
<blockquote>
<p>ä¸ªäººç†è§£ï¼š</p>
<ul>
<li>é¦–å…ˆåšäº† <code>CI/CD</code> å·¥å…·çš„äº‹æƒ…ï¼Œåé¢åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°github actions å®ç°äº†å¾ˆå¤š<code>CI/CD</code>å·¥å…· jenkins,Travis CI,CircleCI ç­‰ä¸€äº›éƒ¨åˆ†åŠŸèƒ½ï¼›</li>
<li>automate(è‡ªåŠ¨),å¯ä»¥è®©å¾ˆå¤šä¸ä»£ç åº“ç›¸å…³çš„äº‹æƒ…è‡ªåŠ¨ï¼Œæ¯”å¦‚å¾ˆå¤šäººç”¨åˆ°çš„ <code>ç”¨github actions  å‘å¸ƒhexoåšå®¢</code>ï¼Œ <code>ç”¨github actionsç»™è‡ªå·±æ¨é€å¤©æ°”é¢„æŠ¥</code></li>
</ul>
</blockquote>
<h3 id="2-ä¸ºä»€ä¹ˆä½¿ç”¨"><a href="#2-ä¸ºä»€ä¹ˆä½¿ç”¨" class="headerlink" title="2. ä¸ºä»€ä¹ˆä½¿ç”¨"></a>2. ä¸ºä»€ä¹ˆä½¿ç”¨</h3><ul>
<li><p>1.ä¸è¦é’±(éƒ¨åˆ†)</p>
<blockquote>
<p>æœ¬ç€github å¼€æºçš„åŸåˆ™ï¼Œå…¬å¼€çš„ä»“åº“å¯å…è´¹ï¼Œç§æœ‰ä»“åº“æœ‰é™åˆ¶çš„ä½¿ç”¨ï¼Œå¯¹äºä¼ä¸šç”¨æˆ·ä¹Ÿæ˜¯ã€‚ä¸è¿‡å¾ˆå¥½å¥‡å¯¹äºè´­ä¹°äº†githubä¼ä¸šç‰ˆçš„ç”¨æˆ·ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨github actionsä¼šæ€ä¹ˆæ”¶è´¹ï¼Œæœ‰å“ªäº›æ–¹å¼å¯é€‰ã€‚</p>
</blockquote>
</li>
<li><p>2.å¤šå¹³å°</p>
<blockquote>
<p>æ”¯æŒ3å¤§ä¸»æµæ“ä½œç³»ç»Ÿ Linux, macOS, Windows,è¿™ä¸€æ¡æ— ç–‘å¾ˆæœ‰å¸å¼•åŠ›ï¼Œå› ä¸ºæ¯•ç«Ÿä¸€ä¸ªäººéš¾ä»¥æ‹¥æœ‰ä¸‰ç§ç³»ç»Ÿçš„ç”µè„‘ï¼ˆå³ä¾¿æœ‰æ–¹æ³•ï¼Œåˆ‡æ¢èµ·æ¥ä¹Ÿä¼šè´¹æ—¶è´¹åŠ²ï¼‰ã€‚è€Œå¯¹äºè‹¹æœè½¯ä»¶è€Œè¨€ï¼Œæœ‰ä¸€ä¸ª macOS çš„æ„å»ºç¯å¢ƒå®å±éš¾å¾—ï¼Œæ¯•ç«Ÿäººå®¶çš„ç³»ç»Ÿæ˜¯æ”¶è´¹çš„ã€‚ä¹Ÿå¯å¯¹æ¥å¾ˆå¤šäº‘ï¼Œå¦‚AWSã€Azure æˆ–æ˜¯ GCPï¼Œä¹Ÿæ”¯æŒä¼—å¤šè¯­è¨€ã€‚</p>
</blockquote>
</li>
<li><p>3.åŠŸèƒ½å¼º</p>
<blockquote>
<p>åŠŸèƒ½å¤ªå¤šï¼Œä¸ä¸€ä¸€è¯´æ˜ï¼Œåªç®€å•æåŠå‡ ç‚¹ï¼Œ<strong>Matrix Workflows</strong>,<strong>Container Services</strong>,<strong>Caching Dependencies</strong>, <strong>Actions Marketplace</strong> ç­‰ç­‰ï¼Œå…·ä½“ä½¿ç”¨åç»­ç»†è§£ã€‚</p>
</blockquote>
</li>
</ul>
<h3 id="3-åŸºæœ¬æ¦‚å¿µ"><a href="#3-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="3.åŸºæœ¬æ¦‚å¿µ"></a>3.åŸºæœ¬æ¦‚å¿µ</h3><p><strong>workflowï¼ˆå·¥ä½œæµç¨‹ï¼‰</strong>ï¼šæŒç»­é›†æˆä¸€æ¬¡è¿è¡Œçš„è¿‡ç¨‹ã€‚</p>
<p><strong>jobï¼ˆä»»åŠ¡ï¼‰</strong>ï¼šä¸€ä¸ª workflow ç”±ä¸€ä¸ªæˆ–å¤šä¸ª job æ„æˆï¼Œå«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚</p>
<p><strong>stepï¼ˆæ­¥éª¤ï¼‰</strong>ï¼šæ¯ä¸ª job ç”±å¤šä¸ª step æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚</p>
<p><strong>actionï¼ˆåŠ¨ä½œï¼‰</strong>ï¼šæ¯ä¸ª step å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ï¼ˆactionï¼‰ã€‚</p>
<blockquote>
<p>ç”±äºè‡ªå·±ä½¿ç”¨jenkinsè¾ƒå¤šï¼Œä¸€ç›´æƒ³æŠŠä»¥ä¸Šæ¦‚å¿µä¸jenkinsçš„åšå¯¹æ¯”ï¼Œä½†åæ¥å‘ç°ï¼Œè¿˜æ˜¯ä¸å¯¹æ¯”è¾ƒå¥½ã€‚å› ä¸º github actionsçš„åŸºæœ¬ç»„æˆæœ‰è‡ªå·±çš„ç‰¹è‰²å’Œä¼˜åŠ¿ï¼Œåœ¨ä½¿ç”¨æ—¶ä¸è¦çº ç»“æ—§çš„Jenkinsä¸­æŒæ¡çš„çŸ¥è¯†ï¼Œéœ€è¦æŠ›å¼ƒæ—§çš„è§‚å¿µ.å»ºè®®:ä¸è¢«jenkinså’Œå…¶ä»–cicdå·¥å…·æ‰€é™åˆ¶ä½,æœ€å¥½æ·±å…¥ç†è§£github actionså¼€å‘è€…çš„åˆè¡·ï¼Œçµæ´»è¿ç”¨ã€‚</p>
</blockquote>
<h4 id="å°æ€è€ƒ"><a href="#å°æ€è€ƒ" class="headerlink" title="å°æ€è€ƒ?"></a>å°æ€è€ƒ?</h4><p>ä¸€å¹´åï¼Œä¸¤å¹´åï¼ŒGithub Actions ä¼šæ€ä¹ˆå½±å“å…¶ä»–å·¥å…·ï¼Ÿï¼ˆJenkins,Gocd, Gitlab CI, AWS CodeDeployç­‰ç­‰ï¼‰</p>
<blockquote>
<p>(æ¬¢è¿è¯„è®ºåŒºç•™è¨€)</p>
</blockquote>
<hr>
<p>å¾…å®Œæˆæ¸…å•</p>
<ul>
<li style="list-style: none"><input type="checkbox" checked> äº§å‡ºç‰©</li>
<li style="list-style: none"><input type="checkbox"> withç”¨æ³•</li>
<li style="list-style: none"><input type="checkbox"> Badge <em><a href="https://www.jianshu.com/p/570a99aa1608" target="_blank" rel="noopener">https://www.jianshu.com/p/570a99aa1608</a></em></li>
<li style="list-style: none"><input type="checkbox"> é‚®ä»¶é€šçŸ¥ ï¼ˆé»˜è®¤æ„ä»¶å¤±è´¥ä¼šç»™è‡ªå·±çš„é‚®ç®±å‘æ¶ˆæ¯ï¼ŒæˆåŠŸä¸ä¼šï¼‰</li>
</ul>
<hr>
<p><strong>More Ref:</strong></p>
<ul>
<li><a href="https://github.com/features/actions" target="_blank" rel="noopener">https://github.com/features/actions</a></li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GA/">GA</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-hexo-sytnax" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/02/hexo-sytnax/"
    >hexo sytnax</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/02/hexo-sytnax/" class="article-date">
  <time datetime="2020-03-02T06:19:13.000Z" itemprop="datePublished">2020-03-02</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
<hr>
<p><img src="/images/hexo_sytnax.png" alt="hexo sytnax"></p>
<center> å¸¸ç”¨çš„åé—¨å°æŠ€å·§ </center>

<h3 id="ä¹¦å†™é£æ ¼"><a href="#ä¹¦å†™é£æ ¼" class="headerlink" title="ä¹¦å†™é£æ ¼"></a>ä¹¦å†™é£æ ¼</h3><p><a href="https://einverne.github.io/markdown-style-guide/zh.html" target="_blank" rel="noopener">Markdownä¹¦å†™é£æ ¼æŒ‡å—</a></p>
<p><a href="https://gerrit.googlesource.com/gitiles/+/master/Documentation/markdown.md" target="_blank" rel="noopener">https://gerrit.googlesource.com/gitiles/+/master/Documentation/markdown.md</a></p>
<h3 id="æ–‡ç« æ¡†æ¶"><a href="#æ–‡ç« æ¡†æ¶" class="headerlink" title="æ–‡ç« æ¡†æ¶"></a>æ–‡ç« æ¡†æ¶</h3><p>åŒä¸€ç±»å‹çš„æ–‡ç« ï¼Œæ¯”å¦‚æŠ€æœ¯ç±»çš„ï¼Œæœ€å¥½æœ‰ä¸€ä¸ªæ¡†æ¶ç”¨æ¥æé†’è‡ªå·±ï¼ŒæŠŠäº‹æƒ…å°½é‡å†™æ¸…æ¥šï¼›æ¨èçœ‹çœ‹<br><a href="https://github.com/do-community/do-article-templates" target="_blank" rel="noopener">æ–‡ç« æ¡†æ¶</a></p>
<p>ç›®å½•categorieså’Œæ ‡ç­¾tagsçš„è¯´æ˜:</p>
<blockquote>
<p>ä¹Ÿä¸çŸ¥é“åˆä¸åˆé€‚ï¼Œç›®å½•åŒ…å«æ ‡ç­¾ï¼Œæ˜¯ä¸€ä¸ªå¤§çš„èŒƒå›´ï¼Œæ ‡ç­¾æ˜¯å…·ä½“çš„ä¸œè¥¿ï¼Œå±äºå…¶ä¸­ï¼Œä¸€ä¸ªç›®å½•å¯åŒ…å«å¤šä¸ªæ ‡ç­¾ã€‚</p>
</blockquote>
<h3 id="ç”»å›¾UML"><a href="#ç”»å›¾UML" class="headerlink" title="ç”»å›¾UML"></a>ç”»å›¾UML</h3><p>@startuml<br>Bob -&gt; Alice : hello<br>@enduml</p>
<h3 id="åŠ å¯†"><a href="#åŠ å¯†" class="headerlink" title="åŠ å¯†"></a>åŠ å¯†</h3><p><a href="https://github.com/MikeCoder/hexo-blog-encrypt" target="_blank" rel="noopener">hexo-blog-encrypt</a> ï¼Œå…·ä½“è¿‡ç¨‹ä¹Ÿæ˜¯å‚è€ƒé“¾æ¥å®Œæˆå®‰è£…ã€ä½¿ç”¨çš„ã€‚</p>
<h3 id="å›¾åºŠ"><a href="#å›¾åºŠ" class="headerlink" title="å›¾åºŠ"></a>å›¾åºŠ</h3><p>é€‰ç”¨ <a href="https://imgchr.com/" target="_blank" rel="noopener">è·¯è¿‡å›¾åºŠ</a></p>
<ul>
<li>ä¸ç”¨æ³¨å†Œè´¦å·</li>
<li>æœªæ³¨å†Œæœ€å¤§5M,æ³¨å†Œåæœ€å¤§10Mã€‚å¤§å°éƒ½å¤Ÿäº†ï¼Œä¸è¡Œçš„è¯å¯ä»¥æå‰ç”¨ <a href="https://tinypng.com/" target="_blank" rel="noopener">https://tinypng.com/</a> å‹ç¼©ä¸€äº›</li>
<li>ä¸Šä¼ åæä¾›å¤šç§æ ¼å¼ä¾›åµŒå…¥ä»£ç </li>
</ul>
<h3 id="è¯„è®º"><a href="#è¯„è®º" class="headerlink" title="è¯„è®º"></a>è¯„è®º</h3><p>ä½¿ç”¨<a href="https://disqus.com/" target="_blank" rel="noopener">disqus</a>,å…¶è´¦å·ä¿æŒå’Œgithubçš„è´¦å·ä¸€è‡´ï¼Œæ¯•ç«Ÿblogå†…å®¹ä¹Ÿåœ¨githubä¸Šã€‚ç”¨githubç”¨çš„é‚®ç®±æ³¨å†Œä¸€æŠŠï¼Œ</p>
<blockquote>
<p>ç„¶åæˆ‘å½“å‰çš„ä¸»é¢˜å¥½åƒä¸æ”¯æŒ</p>
</blockquote>
<p>è¯¥ç”¨Valine </p>
<blockquote>
<p>Valineæ˜¯åŸºäº LeanCloud ä½œä¸ºæ•°æ®å­˜å‚¨çš„</p>
</blockquote>
<ul>
<li><p>ç™»å½• <a href="https://console.leancloud.app/" target="_blank" rel="noopener">https://console.leancloud.app/</a> æ³¨å†Œ ï¼ˆç”¨å›½é™…ç‰ˆï¼Œå›½å†…çš„ç‰ˆæœ¬ä¼¼ä¹è¿˜è¦å®åè®¤è¯ï¼‰</p>
</li>
<li><p>é‚®ç®±éªŒè¯ï¼Œæ‰‹æœºéªŒè¯</p>
</li>
<li><p>åˆ›å»ºåº”ç”¨ï¼š<code>æ§åˆ¶å° -&gt; åˆ›å»ºåº”ç”¨ï¼ˆå¼€å‘ç‰ˆï¼‰</code></p>
</li>
<li><p>åˆ›å»º Class: <strong>Counter</strong>ï¼Œ<strong>Comment</strong> (é»˜è®¤æƒé™é…ç½®å³å¯)</p>
</li>
<li><code>Settings-&gt; App keys</code> è·å–<strong>AppID</strong>ï¼Œ<strong>AppKey</strong>ã€‚æ”¾åˆ°å¯¹åº”ä¸»é¢˜çš„ <code>_config.yml</code>ä¸­</li>
</ul>
<h3 id="é“¾æ¥ä¸­çš„æ‹¬å·"><a href="#é“¾æ¥ä¸­çš„æ‹¬å·" class="headerlink" title="é“¾æ¥ä¸­çš„æ‹¬å·"></a>é“¾æ¥ä¸­çš„æ‹¬å·</h3><p><strong>è§£å†³æ–¹æ³•1:</strong><br>%28 ä»£æ›¿(, %29ä»£æ›¿) ä¸»è¦æ˜¯åè€…ä¼šæ­§ä¹‰é“¾æ¥éƒ¨åˆ†çš„ç»“æŸ.ï¼Œè¿™æ˜¯ä½¿ç”¨urlç¬¦å·ç å»ä»£æ›¿asciiçš„ç¬¦å·ï¼Œèƒ½å¤Ÿè§£å†³è¿™ä¸ªé—®é¢˜ã€‚å¯å‚è€ƒ <a href="https://www.w3schools.com/tags/ref_urlencode.asp" target="_blank" rel="noopener">https://www.w3schools.com/tags/ref_urlencode.asp</a> The default character-set in HTML5 is UTF-8.</p>
<p><strong>ä¾‹å¦‚ï¼š</strong><br>æ›´å¤šå…³äº Telegram çš„ä»‹ç»å¯ä»¥æŸ¥çœ‹ <a href="https://en.wikipedia.org/wiki/Telegram_%28software%29" target="_blank" rel="noopener">Wikipedia</a></p>
<p><strong>è§£å†³æ–¹æ³•2:</strong><br>ç›´æ¥ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦çš„ç¼–ç </p>
<p><strong>ä¾‹å¦‚ï¼š</strong><br>æ›´å¤šå…³äº Telegram çš„ä»‹ç»å¯ä»¥æŸ¥çœ‹ <a href="https://en.wikipedia.org/wiki/Telegram_&#40;software&#41;" target="_blank" rel="noopener">Wikipedia</a></p>
<h3 id="æç¤ºå—"><a href="#æç¤ºå—" class="headerlink" title="æç¤ºå—"></a>æç¤ºå—</h3><blockquote>
<p>ç›®å‰ä¸»é¢˜è²Œä¼¼æš‚æ—¶ä¸æ”¯æŒ<br>[note]<br><strong>Note:</strong> This is a note.</p>
</blockquote>
<p>[warning]<br><strong>Warning:</strong> This is a warning.</p>
<blockquote>
<p>[warning] æˆ‘æ˜¯warningç±»å‹å¼•ç”¨</p>
</blockquote>
<hr>
<h3 id="åˆ é™¤çº¿"><a href="#åˆ é™¤çº¿" class="headerlink" title="åˆ é™¤çº¿"></a>åˆ é™¤çº¿</h3><p><del>è·‘è·¯æŒ‡å—å“‡</del></p>
<h3 id="é”šç‚¹"><a href="#é”šç‚¹" class="headerlink" title="é”šç‚¹"></a>é”šç‚¹</h3><p><a href="#jump">è¯´æ˜æ–‡å­—,ç‚¹å‡»è¿™é‡Œä¼šè·³åˆ°ä¸‹é¢çš„ä½ç½®</a></p>
<p><span id="jump">è·³è½¬åˆ°çš„ä½ç½®</span></p>
<h3 id="ä¸Šæ ‡ã€ä¸‹æ ‡"><a href="#ä¸Šæ ‡ã€ä¸‹æ ‡" class="headerlink" title="ä¸Šæ ‡ã€ä¸‹æ ‡"></a>ä¸Šæ ‡ã€ä¸‹æ ‡</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">H&lt;sub&gt;2&lt;/sub&gt;O  CO&lt;sub&gt;2&lt;/sub&gt;</span><br><span class="line">çˆ†ç±³&lt;sup&gt;TM&lt;/sup&gt;</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">H2O CO2</span><br><span class="line">çˆ†ç±³TM</span><br></pre></td></tr></table></figure></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-ç”»UML" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/02/25/ç”»UML/"
    >ç”»UML</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/02/25/ç”»UML/" class="article-date">
  <time datetime="2020-02-25T08:54:48.000Z" itemprop="datePublished">2020-02-25</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tools/">Tools</a>
  </div>

      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <p>TL;DR<br>ç”¨ <strong>æ–‡å­—</strong> + <strong>å·¥å…·</strong> ï¼Œç”»ä¸ªå¥½å›¾</p>
<h3 id="ä»€ä¹ˆæ˜¯-UML"><a href="#ä»€ä¹ˆæ˜¯-UML" class="headerlink" title="ä»€ä¹ˆæ˜¯ UML"></a>ä»€ä¹ˆæ˜¯ UML</h3><p>å…¨ç§° Unified Modelling Language,<a href="https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener">UMLç»´åŸºç™¾ç§‘</a></p>
<h3 id="ä»€ä¹ˆæ˜¯-PlantUML"><a href="#ä»€ä¹ˆæ˜¯-PlantUML" class="headerlink" title="ä»€ä¹ˆæ˜¯ PlantUML"></a>ä»€ä¹ˆæ˜¯ PlantUML</h3><p>æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œæ”¯æŒå¿«é€Ÿç»˜åˆ¶å„ç§å›¾ï¼ŒåŒ…æ‹¬ æ—¶åºå›¾ã€ç”¨ä¾‹å›¾ã€ç±»å›¾ã€æ´»åŠ¨å›¾ã€ç»„ä»¶å›¾ã€çŠ¶æ€å›¾ã€å¯¹è±¡å›¾ã€éƒ¨ç½²å›¾ã€å®šæ—¶å›¾ï¼›åŒæ—¶è¿˜æ”¯æŒä»¥ä¸‹éUMLå›¾:çº¿æ¡†ã€å›¾å½¢ç•Œé¢ã€æ¶æ„å›¾ã€è§„èŒƒå’Œæè¿°è¯­è¨€ (SDL)ã€Dita diagramã€ç”˜ç‰¹å›¾ ã€æ€ç»´å¯¼å›¾ </p>
<p>å®˜ç½‘ï¼š<a href="https://plantuml.com/zh/" target="_blank" rel="noopener">https://plantuml.com/zh/</a>, åŒ…å«äº†å„ç§å…·ä½“ç”¨æ³•ï¼Œæ¯”å¦‚æ›´æ”¹å­—çš„é¢œè‰²ï¼Œå›¾ç‰‡èƒŒæ™¯é¢œè‰²ç­‰</p>
<h3 id="ä¸¾å‡ ä¸ªğŸŒ°ğŸŒ°"><a href="#ä¸¾å‡ ä¸ªğŸŒ°ğŸŒ°" class="headerlink" title="ä¸¾å‡ ä¸ªğŸŒ°ğŸŒ°"></a>ä¸¾å‡ ä¸ªğŸŒ°ğŸŒ°</h3><p><strong>ç¤ºä¾‹1: ç”»ä¸€ä¸ªUML</strong><br>å·¥å…·: VSCode +  æ’ä»¶ plantuml<br>æ­¥éª¤ï¼š</p>
<ul>
<li>1.æ‰“å¼€VSCode,å®‰è£…æ’ä»¶ plantuml <blockquote>
<p>ä¼¼ä¹è¦æå‰å®‰è£…JDK,ç”±äºæˆ‘æœ¬æœºå·²ç»å®‰è£…ï¼Œæš‚æ²¡éªŒè¯è¿™ä¸€æ­¥</p>
</blockquote>
</li>
<li>2.æ–°å»ºæ–‡ä»¶ <code>example1.wsd</code></li>
<li><p>3.æ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@startmindmap</span><br><span class="line">skinparam  true</span><br><span class="line">* æ•°æ®åº“è¿ç»´</span><br><span class="line">** å®‰è£…</span><br><span class="line">*** å¦‚ä½•å®‰è£…</span><br><span class="line">*** å¦‚ä½•è®¾ç½®é«˜å¯ç”¨</span><br><span class="line">** å¤‡ä»½</span><br><span class="line">** æ¢å¤</span><br><span class="line">@endmindmap</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.æŒ‰ <code>alt + d</code>,ç«‹é©¬ä¼šç”ŸæˆUMLå›¾</p>
</li>
</ul>
<p><strong>ç¤ºä¾‹2: ç»™mdæ–‡æ¡£æ·»åŠ  UML å›¾</strong><br>å¥½å¤„ï¼šä¸ç”¨å•ç‹¬ä¿ç•™ä¸€å¼ å›¾ç‰‡ï¼Œç„¶åå†æ’å…¥åˆ° <code>readme.md</code> æ–‡æ¡£ä¸­<br>å·¥å…·: markdown<br>æ–°å»ºmdæ–‡ä»¶ï¼Œæ¯”å¦‚ <code>example2.md</code>,æˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="/images/uml_example2.png" width="80%" height="80%"></p>
<p>åªèƒ½åˆ©ç”¨vscode æ‰“å¼€æ—¶ï¼Œæ‰èƒ½çœ‹åˆ°å›¾å½¢ï¼Œå¦‚ç”¨æµè§ˆå™¨ï¼Œæ‰“å¼€ä¸€ä¸ªreadme.mdæ–‡æ¡£ï¼Œæ˜¯æ— æ³•çœ‹åˆ°å›¾å½¢çš„</p>
<hr>
<p><strong>More Ref:</strong>  </p>
<ol>
<li><a href="https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener">UMLç»´åŸºç™¾ç§‘</a></li>
<li><a href="https://www.freecodecamp.org/news/inserting-uml-in-markdown-using-vscode/" target="_blank" rel="noopener">å‚è€ƒä¾‹å­</a></li>
<li><a href="https://youtu.be/0MEs4WrOZmk" target="_blank" rel="noopener">youtubeè§†é¢‘</a></li>
</ol>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">ä¸Šä¸€é¡µ</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/4/">ä¸‹ä¸€é¡µ</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2018-2020
        qinrui
      </li>
      <li>
        
        Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <span>
  <i>PV:<span id="busuanzi_value_page_pv"></span></i>
  <i>UV:<span id="busuanzi_value_site_uv"></span></i>
</span>
        
      </li>
      
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
      </li>
    </ul>
  </div>
</footer>
      <div class="to_top">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>
      </div>
    </main>
    <aside class="sidebar">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/palm-tree.svg" alt="ä¸€ç¬‘çš†æ˜¥"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2020/03/16/about/">å…³äºæˆ‘</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    
  </div>
</div>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/share.js"></script>
<script src="/js/lazyload.min.js"></script>

<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['2020 - å¼€å¯20å¹´ä»£', 'çŸ¥é“ä¸€æ— æ‰€çŸ¥', 'é£é›¨ä¸åŠ¨å®‰å¦‚å±±'],
      startDelay: 0,
      typeSpeed: 200,
      loop: true,
      backSpeed: 100,
      showCursor: true
    });
  } catch (err) {
  }

</script>





<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/ayer.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>



<script src="/js/busuanzi-2.3.pure.min.js"></script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=4898912&auto=0&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
  </div>
</body>

</html>