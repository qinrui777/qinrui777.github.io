<!DOCTYPE html>


  <html lang="en">
    

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> Hexo</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/palm-tree.ico" />
       <link rel="stylesheet" href="/dist/main.css">
      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css"
      />
      <link rel="stylesheet" href="/css/custom.css"> 
      <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
       
 

      <!-- mermaid -->
      
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover2.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Hexo</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['ä¸€ç¬‘çš†æ˜¥', '', ''],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  <article class="articles">
    
    
    
    
    <article
  id="post-Shell-Print-text-between-specified-lines-or-patterns"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/06/14/Shell-Print-text-between-specified-lines-or-patterns/"
    >Shell Print text between specified lines or patterns</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/06/14/Shell-Print-text-between-specified-lines-or-patterns/" class="article-date">
  <time datetime="2019-06-14T09:41:10.000Z" itemprop="datePublished">2019-06-14</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Bash/">Bash</a>
  </div>
 
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>awk,grep,sed,head,tail éƒ½å¯ä»¥æ ¹æ®æ¡ä»¶æ‰“å°éƒ¨åˆ†è¡Œã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ grep æ‰“å°åŒ¹é…æ¨¡å¼çš„è¡Œã€‚ä¸è¿‡ï¼Œæœ€å…¨èƒ½çš„å·¥å…·è¿˜æ˜¯ awk.</p>
<h4 id="Example-1-æ‰“å°ä»-M-è¡Œåˆ°-N-è¡Œä¹‹é—´çš„æ–‡æœ¬"><a href="#Example-1-æ‰“å°ä»-M-è¡Œåˆ°-N-è¡Œä¹‹é—´çš„æ–‡æœ¬" class="headerlink" title="Example 1: æ‰“å°ä» M è¡Œåˆ° N è¡Œä¹‹é—´çš„æ–‡æœ¬"></a>Example 1: æ‰“å°ä» M è¡Œåˆ° N è¡Œä¹‹é—´çš„æ–‡æœ¬</h4><p><code>$ awk &#39;NR==M,NR==N&#39; filename</code></p>
<p>ä¹Ÿå¯ä»¥ä»stdinè¯»å–è¾“å…¥ï¼š<br><code>cat filename | awk &#39;NR==M, NR==N&#39;</code></p>
<h4 id="Example-2-æ‰“å°ä½äºæ¨¡å¼-start-pattern-ä¸-end-pattern-ä¹‹é—´çš„æ–‡æœ¬"><a href="#Example-2-æ‰“å°ä½äºæ¨¡å¼-start-pattern-ä¸-end-pattern-ä¹‹é—´çš„æ–‡æœ¬" class="headerlink" title="Example 2: æ‰“å°ä½äºæ¨¡å¼ start_pattern ä¸ end_pattern ä¹‹é—´çš„æ–‡æœ¬"></a>Example 2: æ‰“å°ä½äºæ¨¡å¼ start_pattern ä¸ end_pattern ä¹‹é—´çš„æ–‡æœ¬</h4><p><code>awk &#39;/start_pattern/,/end_pattern/&#39; filename</code></p>
<p>awkä¸­ä½¿ç”¨çš„æ¨¡å¼ä¸ºæ­£åˆ™è¡¨è¾¾å¼</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Bash/">Bash</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shell/">Shell</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Jenkins-trigger-downstream-job"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/30/Jenkins-trigger-downstream-job/"
    >Jenkins trigger downstream job</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/05/30/Jenkins-trigger-downstream-job/" class="article-date">
  <time datetime="2019-05-30T09:50:50.000Z" itemprop="datePublished">2019-05-30</time>
</a>  
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>origin_job è§¦å‘ second_job</p>
<p>origin_job å¦‚ä¸‹ï¼š</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//declarative pipeline</span></span><br><span class="line">pipeline &#123;</span><br><span class="line">    agent any </span><br><span class="line">    </span><br><span class="line">    stages &#123;</span><br><span class="line">        stage(<span class="string">'Stage One'</span>)&#123;</span><br><span class="line">            steps&#123;</span><br><span class="line">                sh <span class="string">"echo *** This is Stage One ***"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        stage(<span class="string">'Stage Two'</span>)&#123;</span><br><span class="line">            steps&#123;</span><br><span class="line">                sh <span class="string">"echo $&#123;env.BUILD_NUMBER&#125;"</span></span><br><span class="line">                sh <span class="string">"echo $&#123;env.NODE_NAME&#125; , $&#123;env.JOB_NAME&#125;"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        stage(<span class="string">"Invoke second job without parameters"</span>)&#123;</span><br><span class="line">            steps&#123;</span><br><span class="line">                build <span class="string">job:</span> <span class="string">'second_job'</span></span><br><span class="line">                sleep <span class="number">30</span></span><br><span class="line">           &#125;</span><br><span class="line">        &#125;   </span><br><span class="line"></span><br><span class="line">        stage(<span class="string">"Invoke second job with parameters"</span>)&#123;</span><br><span class="line">            steps&#123;</span><br><span class="line">                build <span class="string">job:</span> <span class="string">'second_job'</span>,</span><br><span class="line"><span class="symbol">                parameters:</span>[</span><br><span class="line">                    string(<span class="string">name:</span><span class="string">'Para1'</span>,<span class="string">value:</span>String.valueOf(JOB_NAME)),</span><br><span class="line">                    string(<span class="string">name:</span><span class="string">'Para2'</span>,<span class="string">value:</span>String.valueOf(BUILD_NUMBER))</span><br><span class="line">                ]</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>second_job </p>
<p>ç‚¹å‡»â€œâ€œå‚æ•°åŒ–æ„å»ºâ€â€æ‰‹åŠ¨æ·»åŠ  ä¸¤ä¸ªå‚æ•°</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">    agent any </span><br><span class="line">    </span><br><span class="line">    stages &#123;</span><br><span class="line">        stage(<span class="string">'Stage One'</span>)&#123;</span><br><span class="line">            steps&#123;</span><br><span class="line">                sh <span class="string">"echo *** This is <span class="variable">$&#123;env.JOB_NAME&#125;</span> ,and We are stage one ***"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    stage(<span class="string">'Echo origin_job para'</span>)&#123;</span><br><span class="line">        steps&#123;</span><br><span class="line">                sh <span class="string">"echo <span class="variable">$&#123;env.Para1&#125;</span>"</span></span><br><span class="line">                sh <span class="string">"echo <span class="variable">$&#123;env.Para2&#125;</span>"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jenkins/">jenkins</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Shell-Script-Standards"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/29/Shell-Script-Standards/"
    >Shell Script Standards</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/05/29/Shell-Script-Standards/" class="article-date">
  <time datetime="2019-05-29T01:48:15.000Z" itemprop="datePublished">2019-05-29</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Bash/">Bash</a>
  </div>
 
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>æ¨èçœ‹çœ‹ <a href="https://google.github.io/styleguide/shellguide.html" target="_blank" rel="noopener">https://google.github.io/styleguide/shellguide.html</a></p>
<h5 id="Part1-å‘½åçº¦å®š"><a href="#Part1-å‘½åçº¦å®š" class="headerlink" title="Part1: å‘½åçº¦å®š"></a>Part1: å‘½åçº¦å®š</h5><ul>
<li>æœ¬æ–‡æ¡£çš„å‘½åçº¦å®šæ˜¯ç³»ç»Ÿé…ç½®æ–‡ä»¶ã€è„šæœ¬æ–‡ä»¶ï¼›</li>
<li>æ–‡ä»¶åã€å˜é‡åã€å‡½æ•°åä¸è¶…è¿‡20ä¸ªå­—ç¬¦ï¼›</li>
<li>å‘½ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œåªæœ‰ä¸€ä¸ªè‹±æ–‡å•è¯æ—¶ä½¿ç”¨å…¨æ‹¼ï¼Œæœ‰å¤šä¸ªå•è¯æ—¶ï¼Œä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”ï¼Œé•¿åº¦è¾ƒé•¿æ—¶ï¼Œå¯ä»¥å–å•è¯å‰3ï½4ä¸ªå­—æ¯ã€‚</li>
<li>æ–‡ä»¶åå…¨éƒ¨ä»¥å°å†™å‘½åï¼Œä¸èƒ½å¤§å°å†™æ··ç”¨ï¼ˆé€šè¿‡Uç›˜äº¤æ¢æ–‡ä»¶æ—¶ï¼Œå¤§å°å†™å¯èƒ½ä¼šä¸¢å¤±ï¼Œå³ï¼šå¤§å†™æ–‡ä»¶åå¯èƒ½ä¼šå…¨éƒ¨å˜æˆå°å†™æ–‡ä»¶åï¼‰ï¼›</li>
<li>é¿å…ä½¿ç”¨Linuxçš„ä¿ç•™å­—å¦‚trueã€å…³é”®å­—å¦‚PWDç­‰ï¼ˆè§é™„è¡¨ï¼‰ï¼›</li>
<li>ä»é…ç½®æ–‡ä»¶å¯¼å‡ºé…ç½®æ—¶ï¼Œè¦æ³¨æ„è¿‡æ»¤ç©ºè¡Œå’Œæ³¨é‡Š</li>
</ul>
<h5 id="Part2-ä»£ç å¼€å¤´çº¦å®š"><a href="#Part2-ä»£ç å¼€å¤´çº¦å®š" class="headerlink" title="Part2: ä»£ç å¼€å¤´çº¦å®š"></a>Part2: ä»£ç å¼€å¤´çº¦å®š</h5><ul>
<li>ç¬¬ä¸€è¡Œä¸€èˆ¬ä¸ºè°ƒç”¨ä½¿ç”¨çš„è¯­è¨€ </li>
<li>ä¸‹é¢è¦æœ‰è¿™ä¸ªç¨‹åºåï¼Œé¿å…æ›´æ”¹æ–‡ä»¶åä¸ºæ— æ³•æ‰¾åˆ°æ­£ç¡®çš„æ–‡ä»¶</li>
<li>ç‰ˆæœ¬å·</li>
<li>æ›´æ”¹åçš„æ—¶é—´</li>
<li>ä½œè€…ç›¸å…³ä¿¡æ¯</li>
<li>è¯¥ç¨‹åºçš„ä½œç”¨ï¼ŒåŠæ³¨æ„äº‹é¡¹</li>
<li>ç‰ˆæƒä¸æ˜¯å¦å¼€æ”¾å…±äº«GNUè¯´æ˜</li>
<li>æœ€åæ˜¯å„ç‰ˆæœ¬çš„æ›´æ–°ç®€è¦è¯´æ˜</li>
</ul>
<p>e.g.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># -------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Filename:    check_mem.sh</span></span><br><span class="line"><span class="comment"># Revision:    1.1</span></span><br><span class="line"><span class="comment"># Date:        2019/02/10</span></span><br><span class="line"><span class="comment"># Author:      xiaoming</span></span><br><span class="line"><span class="comment"># Email:       xiaoming#gmail.com</span></span><br><span class="line"><span class="comment"># Description: Plugin to monitor the memory of the system</span></span><br><span class="line"><span class="comment"># Notes:       This plugin uses the "" command</span></span><br><span class="line"><span class="comment"># -------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Copyright:   2009 (c) xiaoming</span></span><br><span class="line"><span class="comment"># License:     GPL</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This program is free software; you can redistribute it and/or</span></span><br><span class="line"><span class="comment"># modify it under the terms of the GNU General Public License</span></span><br><span class="line"><span class="comment"># as published by the Free Software Foundation; either version 2</span></span><br><span class="line"><span class="comment"># of the License, or (at your option) any later version.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This program is distributed in the hope that it will be useful,</span></span><br><span class="line"><span class="comment"># but WITHOUT ANY WARRANTY; without even the implied warranty</span></span><br><span class="line"><span class="comment"># of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span></span><br><span class="line"><span class="comment"># GNU General Public License for more details.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># you should have received a copy of the GNU General Public License</span></span><br><span class="line"><span class="comment"># along with this program (or with Nagios);</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Credits go to Ethan Galstad for coding Nagios</span></span><br><span class="line"><span class="comment"># If any changes are made to this script, please mail me a copy of the changes</span></span><br><span class="line"><span class="comment"># -------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">#Version 1.0</span></span><br><span class="line"><span class="comment">#The first one , can monitor the system memory</span></span><br><span class="line"><span class="comment">#Version 1.1</span></span><br><span class="line"><span class="comment">#Modify the method of the script ,more fast</span></span><br></pre></td></tr></table></figure></p>
<h5 id="Part3-ç¯å¢ƒå˜é‡"><a href="#Part3-ç¯å¢ƒå˜é‡" class="headerlink" title="Part3: ç¯å¢ƒå˜é‡"></a>Part3: ç¯å¢ƒå˜é‡</h5><ul>
<li>å˜é‡ï¼šå…¨éƒ¨æ˜¯å¤§å†™å­—æ¯</li>
<li>å˜é‡å¼•ç”¨ï¼šå…¨éƒ¨ä»¥å˜é‡ååŠ åŒå¼•å·å¼•ç”¨ï¼Œå¦‚â€$TERMTYPEâ€ï¼Œæˆ–â€œ${TERMTYPE}â€ï¼Œå¦‚æœå˜é‡ç±»å‹æ˜¯æ•°å€¼å‹ä¸å¼•ç”¨ï¼Œå¦‚:</li>
<li>å¦‚æœéœ€è¦ä»é…ç½®æ–‡ä»¶å¯¼å‡ºå˜é‡ï¼Œåˆ™åœ¨å˜é‡å‰åŠ ä¸€å¤§å†™å­—æ¯ï¼Œä»¥è¯†åˆ«å¯¼å‡ºå˜é‡ä¸è‡ªå®šä¹‰ç¯å¢ƒå˜é‡çš„åŒºåˆ«ï¼Œå¦‚ï¼š</li>
<li>å˜é‡å€¼çš„å¼•ç”¨å°½é‡ä»¥$å¼€å¤´ï¼Œå¦‚$(ls inst_.sh)ï¼Œé¿å…ä½¿ç”¨<code>ls inst_ã€‚sh</code></li>
<li>å¾ªç¯æ§åˆ¶å˜é‡å¯ä»¥å‘½åä¸ºå•ä¸ªå­—æ¯ï¼Œ æ¯”å¦‚ iã€jç­‰ã€‚ ä¹Ÿå¯ä»¥æ˜¯æ›´æœ‰æ„ä¹‰çš„åç§°ï¼Œ æ¯”å¦‚ UserIndexã€‚</li>
<li>ç¯å¢ƒå˜é‡å’Œå…¨å±€å˜é‡ åœ¨è„šæœ¬å¼€å¤´å®šä¹‰ã€‚</li>
<li>å‡½æ•°ä¸­ä½¿ç”¨è¾ƒå¤šçš„æ–‡ä»¶ï¼Œä»¥ç¯å¢ƒå˜é‡çš„å½¢å¼åœ¨æ–‡ä»¶å¼€å¤´å®šä¹‰ï¼Œä»…å‡½æ•°ä¸­ä½¿ç”¨çš„å˜é‡åœ¨å‡½æ•°å¼€å¤´å®šä¹‰</li>
</ul>
<h5 id="Part4-è„šæœ¬çš„åŸºæœ¬ç»“æ„"><a href="#Part4-è„šæœ¬çš„åŸºæœ¬ç»“æ„" class="headerlink" title="Part4: è„šæœ¬çš„åŸºæœ¬ç»“æ„"></a>Part4: è„šæœ¬çš„åŸºæœ¬ç»“æ„</h5><p>ä¸€ä¸ªè„šæœ¬çš„åŸºæœ¬ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!SHEBANG</span></span><br><span class="line"> </span><br><span class="line">CONFIGURATION_VARIABLES</span><br><span class="line"> </span><br><span class="line">FUNCTION_DEFINITIONS</span><br><span class="line"> </span><br><span class="line">MAIN_CODE</span><br><span class="line">Shebang</span><br></pre></td></tr></table></figure>
<p><strong>More Ref:</strong></p>
<blockquote>
<ul>
<li><a href="https://blog.csdn.net/wirelessqa/article/details/18863403" target="_blank" rel="noopener">https://blog.csdn.net/wirelessqa/article/details/18863403</a></li>
</ul>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Bash/">Bash</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shell/">Shell</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Ping-Or-fping"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/28/Ping-Or-fping/"
    >Ping Or fping</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/05/28/Ping-Or-fping/" class="article-date">
  <time datetime="2019-05-28T07:20:01.000Z" itemprop="datePublished">2019-05-28</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>
 
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>ping å‘½ä»¤æˆ‘ä»¬æ¯”è¾ƒå¸¸ç”¨ï¼Œä½†æ˜¯è¿™é‡Œè¦ä»‹ç»ä¸‹ fping å‘½ä»¤ã€‚ fping æ¯” ping æ‹¥æœ‰æ›´å¤šçš„ç‰¹æ€§ã€‚fping é»˜è®¤æ²¡æœ‰åŒ…å«åœ¨Linuxå‘è¡Œç‰ˆä¸­ã€‚</p>
<blockquote>
<p>ping å‘½ä»¤ä½¿ç”¨Internetæ§åˆ¶åè®®ï¼ˆInternet Control Message Protocol,ICMPï¼‰ä¸­çš„echo åˆ†ç»„æ£€éªŒç½‘ç»œä¸Šä¸¤å°ä¸»æœºä¹‹é—´çš„è¿é€šæ€§ã€‚</p>
</blockquote>
<p>e.g.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ip <span class="keyword">in</span> 192.168.0.&#123;1..255&#125; ;</span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line">    ping <span class="variable">$ip</span> -c 2 &amp;&gt; /dev/null ;</span><br><span class="line"></span><br><span class="line">    uf [ $? -eq 0 ];</span><br><span class="line">    <span class="keyword">then</span> </span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$ip</span> is alive</span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p>
<p>å·¥ä½œåŸç†ï¼š</p>
<ul>
<li><code>&amp;&gt; /dev/null</code> ç”¨äºå°† stderr stdout é‡å®šå‘åˆ° <code>/dev/nul</code> ,ä½¿ç»ˆç«¯ä¸ä¼šå‡ºç°ä»»ä½•è¾“å‡º</li>
<li>è„šæœ¬ç”¨ <code>$?</code> è·å–é€€å‡ºçŠ¶æ€ã€‚å¦‚æœé¡ºåˆ©é€€å‡ºï¼Œé€€å‡ºçŠ¶æ€ä¸º0ï¼Œå¦åˆ™ä¸ºé0å€¼ã€‚</li>
</ul>
<h5 id="fping"><a href="#fping" class="headerlink" title="fping"></a>fping</h5><p>fping å¯ä»¥ä¸ºå¤šä¸ªIPåœ°å€ç”Ÿæˆ ICMP åˆ†ç»„ï¼Œç„¶åç­‰å¾…å›åº”ã€‚å…¶è¿è¡Œé€Ÿåº¦è¦æ¯”ä¸Šé¢çš„è„šæœ¬å¿«å¾—å¤šã€‚</p>
<p>é€‰é¡¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>é€‰é¡¹ <code>-a</code> æŒ‡å®šæ˜¾ç¤ºå‡ºæ‰€æœ‰æ´»åŠ¨ä¸»æœºçš„IPåœ°å€ï¼›</li>
<li>é€‰é¡¹ <code>-u</code> æŒ‡å®šæ˜¾ç¤ºå‡ºæ‰€æœ‰ä¸å¯è¾¾çš„ä¸»æœºåœ°å€ï¼›</li>
<li>é€‰é¡¹ <code>-g</code> æŒ‡å®šä» â€œIPåœ°å€/å­ç½‘æ©ç ï¼›è®°æ³•æˆ–è€… â€œIPåœ°å€èŒƒå›´â€è®°æ³•ä¸­ç”Ÿæˆä¸€ç»„åœ°å€</li>
</ul>
<p>e.g.</p>
<p><code>fping -a 192.168.0.1/24 -g</code></p>
<p><code>fping -a 192.168.0.1 192.168.1.255 -g</code></p>
<p><code>fping -a 192.168.0.1  192.168.0.5 192.168.0.6</code></p>
<p><code>fping -a &lt; ip.list</code> ä»åˆ—è¡¨æ–‡ä»¶ sdtin ä¸­æ¥æ”¶</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shell/">Shell</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Small-Tools-2-ffmpeg-Video-conversion-tool"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/23/Small-Tools-2-ffmpeg-Video-conversion-tool/"
    >Small Tools [2]: ffmpeg -- Video conversion tool.</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/05/23/Small-Tools-2-ffmpeg-Video-conversion-tool/" class="article-date">
  <time datetime="2019-05-23T13:12:08.000Z" itemprop="datePublished">2019-05-23</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tools/">Tools</a>
  </div>
 
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="yffmpeg"><a href="#yffmpeg" class="headerlink" title="yffmpeg"></a>yffmpeg</h2><h5 id="1-Install-ï¼ˆå®‰è£…ï¼‰"><a href="#1-Install-ï¼ˆå®‰è£…ï¼‰" class="headerlink" title="1.Install ï¼ˆå®‰è£…ï¼‰"></a>1.Install ï¼ˆå®‰è£…ï¼‰</h5><ul>
<li>macOS (wait a min)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install ffmpeg</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="2-Usage-ï¼ˆç”¨æ³•ï¼‰"><a href="#2-Usage-ï¼ˆç”¨æ³•ï¼‰" class="headerlink" title="2.Usage ï¼ˆç”¨æ³•ï¼‰"></a>2.Usage ï¼ˆç”¨æ³•ï¼‰</h5><ul>
<li>General usage</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i video.mp4 -vn sound.mp3</span><br></pre></td></tr></table></figure>
<ul>
<li>More usage<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg</span><br><span class="line"></span><br><span class="line">Video conversion tool.</span><br><span class="line"></span><br><span class="line">- Extract the sound from a video and save it as MP3:</span><br><span class="line">    ffmpeg -i video.mp4 -vn sound.mp3</span><br><span class="line"></span><br><span class="line">- Convert frames from a video or GIF into individual numbered images:</span><br><span class="line">    ffmpeg -i video.mpg|video.gif frame_%d.png</span><br><span class="line"></span><br><span class="line">- Combine numbered images (frame_1.jpg, frame_2.jpg, etc) into a video or GIF:</span><br><span class="line">    ffmpeg -i frame_%d.jpg -f image2 video.mpg|video.gif</span><br><span class="line"></span><br><span class="line">- Quickly extract a single frame from a video at time mm:ss and save it as a 128x128 resolution image:</span><br><span class="line">    ffmpeg -ss mm:ss -i video.mp4 -frames 1 -s 128x128 -f image2 image.png</span><br><span class="line"></span><br><span class="line">- Trim a video from a given start time mm:ss to an end time mm2:ss2 (omit the -to flag to trim till the end):</span><br><span class="line">    ffmpeg -ss mm:ss -to mm2:ss2 -i video.mp4 -codec copy output.mp4</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>More Ref:</strong>- <a href="https://ffmpeg.org" target="_blank" rel="noopener">https://ffmpeg.org</a> (å®˜ç½‘)</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Small-Tools-1-youtube-dl"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/22/Small-Tools-1-youtube-dl/"
    >Small Tools [1]: youtube-dl</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/05/22/Small-Tools-1-youtube-dl/" class="article-date">
  <time datetime="2019-05-22T09:15:31.000Z" itemprop="datePublished">2019-05-22</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tools/">Tools</a>
  </div>
 
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="youtube-dl"><a href="#youtube-dl" class="headerlink" title="youtube-dl"></a>youtube-dl</h2><p><strong>youtube-dl</strong> æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œè§†é¢‘ä¸‹è½½åˆ©å™¨ï¼Œä¸ä»…ä»…å¯ä»¥ä¸‹è½½YouTubeçš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½å…¶ä»–çš„è§†é¢‘ç½‘ç«™å†…å®¹</p>
<h5 id="1-Install-ï¼ˆå®‰è£…ï¼‰"><a href="#1-Install-ï¼ˆå®‰è£…ï¼‰" class="headerlink" title="1.Install ï¼ˆå®‰è£…ï¼‰"></a>1.Install ï¼ˆå®‰è£…ï¼‰</h5><p>mac æˆ– linux ä¸Š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -L https://yt-dl.org/downloads/latest/youtube-dl -o /usr/local/bin/youtube-dl</span><br><span class="line">sudo chmod a+rx /usr/local/bin/youtube-dl</span><br></pre></td></tr></table></figure></p>
<h5 id="2-Usage-ï¼ˆç”¨æ³•ï¼‰"><a href="#2-Usage-ï¼ˆç”¨æ³•ï¼‰" class="headerlink" title="2.Usage ï¼ˆç”¨æ³•ï¼‰"></a>2.Usage ï¼ˆç”¨æ³•ï¼‰</h5><ul>
<li><p>General usage</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ youtube-dl https://www.youtube.com/watch\?v\=rNh_e6ZA8CI</span><br><span class="line">[youtube] rNh_e6ZA8CI: Downloading webpage</span><br><span class="line">[youtube] rNh_e6ZA8CI: Downloading video info webpage</span><br><span class="line">[download] Destination: é‡‡ç”¨æœ€æ…¢èµ·è·‘æ–¹å¼! ä¸­å›½é£äººèµ·è·‘ä¸å¥½åªæ’ç¬¬å››, ä½†åç¨‹çˆ†å‘ä»¥0.03ç§’é™©èƒœå¤ºå† -rNh_e6ZA8CI.mp4</span><br><span class="line">[download] 100% of 13.00MiB <span class="keyword">in</span> 00:43</span><br><span class="line"></span><br><span class="line"><span class="comment">### ä¸‹è½½åˆ°æŒ‡å®šç›®å½•ï¼Œå¹¶é‡å‘½å</span></span><br><span class="line">youtube-dl https://www.youtube.com/watch\?v\=rNh_e6ZA8CI -o ./youtube-download/running_vedio.mp4</span><br></pre></td></tr></table></figure>
</li>
<li><p>Only Download Audio (ä¸‹è½½youtubeçš„éŸ³é¢‘)  </p>
</li>
</ul>
<blockquote>
<p>ï¼ˆæœ€è¿‘å‘ç°youtubeæœ‰äº›èŠ‚ç›®ï¼Œåªç”¨å¬å¾—ï¼Œæ¯”å¦‚ è¯»ä¹¦ç±»ã€è‹±è¯­ç±»ï¼‰,ç”¨<code>-f</code> å‚æ•°æŒ‡å®šæ ¼å¼</p>
</blockquote>
<p><code>youtube-dl -f 140 https://www.youtube.com/watch\?v\=9rRrsx1jgYc</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl -F &lt;your_link&gt;</span><br><span class="line"><span class="comment">### -F, --list-formats    List all available formats of requested videos</span></span><br></pre></td></tr></table></figure></p>
<hr>  

<h3 id="æ–°å¢ä¸€ä¸ªç±»ä¼¼å·¥å…·"><a href="#æ–°å¢ä¸€ä¸ªç±»ä¼¼å·¥å…·" class="headerlink" title="æ–°å¢ä¸€ä¸ªç±»ä¼¼å·¥å…·"></a>æ–°å¢ä¸€ä¸ªç±»ä¼¼å·¥å…·</h3><p>æœ€è¿‘å‘ç°æ–°çš„å·¥å…· <code>you-get</code><br>å¯¹å›½å†…æ”¯æŒæ¯”è¾ƒå¥½ï¼Œå›½å†…è§†é¢‘ä¸‹è½½é€Ÿåº¦æå¿«ï¼ˆæ¯”youtube-dlå¿«å¾ˆå¤šå€ï¼‰ï¼Œä½¿ç”¨æ–¹ä¾¿ï¼Œè¯­æ³•ç®€å•ã€‚</p>
<p>æ¯”å¦‚ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½ç½‘æ˜“äº‘éŸ³ä¹çš„mv</span></span><br><span class="line">you-get https://music.163.com/\<span class="comment">#/mv\?id\=5307835</span></span><br><span class="line"><span class="comment"># ç„¶åæå–éŸ³é¢‘</span></span><br><span class="line">ffmpeg -i ç¥ä½ ä¸€è·¯é¡ºé£\ -\ å´å¥‡éš†.mp4 -vn ç¥ä½ ä¸€è·¯é¡ºé£\ -\ å´å¥‡éš†.mp3</span><br></pre></td></tr></table></figure></p>
<h3 id="å†æ–°å¢ä¸€ä¸ªç±»ä¼¼å·¥å…·"><a href="#å†æ–°å¢ä¸€ä¸ªç±»ä¼¼å·¥å…·" class="headerlink" title="å†æ–°å¢ä¸€ä¸ªç±»ä¼¼å·¥å…·"></a>å†æ–°å¢ä¸€ä¸ªç±»ä¼¼å·¥å…·</h3><p><a href="https://github.com/nilaoda/BBDown" target="_blank" rel="noopener">https://github.com/nilaoda/BBDown</a></p>
<blockquote>
<p>æˆ‘ç”¨è¿™ä¸ªä¸‹è½½è¿‡è‹±æ–‡å­—å¹•ï¼Œå¥½ç”¨ï¼</p>
</blockquote>
<p><strong>ä¸‹è½½</strong>ï¼šå¯¹äºMac,ç›´æ¥å»ä¸‹è½½<a href="https://github.com/nilaoda/BBDown/releases" target="_blank" rel="noopener">https://github.com/nilaoda/BBDown/releases</a>  osxç‰ˆæœ¬çš„.</p>
<blockquote>
<p>è§£å‹åï¼Œchmod åŠ æƒé™ï¼›å³é”®æ‰“å¼€æ—¶ä¼šæç¤ºâ€Are you sure you want to open it?â€,é€‰æ‹© â€œOpenâ€; ç„¶åä¾¿å¯å‘½ä»¤è¡Œä½¿ç”¨</p>
</blockquote>
<p><strong>ä½¿ç”¨</strong>ï¼š e.g. <code>./BBDown --sub-only https://www.bilibili.com/video/BV1S64y1i7m6</code></p>
<p><strong>More Ref:</strong></p>
<ul>
<li><a href="http://ytdl-org" target="_blank" rel="noopener">http://ytdl-org</a> (å®˜ç½‘)</li>
<li><a href="https://github.com/ytdl-org/youtube-dl/blob/master/README.md#readme" target="_blank" rel="noopener">https://github.com/ytdl-org/youtube-dl/blob/master/README.md#readme</a> ï¼ˆgithubï¼‰</li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tools/">Tools</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Linux-backup-specially"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/21/Linux-backup-specially/"
    >backup specially with shell script or python</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/05/21/Linux-backup-specially/" class="article-date">
  <time datetime="2019-05-21T09:37:07.000Z" itemprop="datePublished">2019-05-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>
 
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h3 id="éœ€æ±‚ï¼š-å¤‡ä»½ç›®å½•ï¼Œåªå¤‡ä»½æ–°åŠ çš„æ–‡ä»¶ï¼Œä¸å¤‡ä»½å‡å°‘çš„æ–‡ä»¶"><a href="#éœ€æ±‚ï¼š-å¤‡ä»½ç›®å½•ï¼Œåªå¤‡ä»½æ–°åŠ çš„æ–‡ä»¶ï¼Œä¸å¤‡ä»½å‡å°‘çš„æ–‡ä»¶" class="headerlink" title="éœ€æ±‚ï¼š å¤‡ä»½ç›®å½•ï¼Œåªå¤‡ä»½æ–°åŠ çš„æ–‡ä»¶ï¼Œä¸å¤‡ä»½å‡å°‘çš„æ–‡ä»¶"></a>éœ€æ±‚ï¼š å¤‡ä»½ç›®å½•ï¼Œåªå¤‡ä»½æ–°åŠ çš„æ–‡ä»¶ï¼Œä¸å¤‡ä»½å‡å°‘çš„æ–‡ä»¶</h3><p>åˆ†æï¼š é€šå¸¸å¤‡ä»½ç›®å½•ç”¨ <code>rsync</code> å°±å¯ä»¥è¾¾åˆ°ç›®çš„ï¼Œä½†å¼€å‘åŒå­¦æ€•è¯¯æ“ä½œï¼Œåˆ é™¤æ–‡ä»¶ï¼Œäºæ˜¯æå‡ºè¿™ä¸ª <em>åªå¢ä¸å‡</em> çš„éœ€æ±‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="function"><span class="title">backUp</span></span>()&#123;</span><br><span class="line"><span class="built_in">local</span> sourceDir=<span class="variable">$1</span> <span class="comment">#éœ€è¦å¤‡ä»½çš„æ–‡ä»¶/ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">local</span> destDir=<span class="variable">$2</span> <span class="comment">#å¤‡ä»½ç›®çš„åœ°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -d <span class="string">"<span class="variable">$sourceDir</span>"</span> ] <span class="comment">#å¤‡ä»½ç›®å½•</span></span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#å¦‚æœç›®å½•å°šæœªå¤‡ä»½ï¼Œåˆ™åˆ›å»ºæ­¤ç›®å½•</span></span><br><span class="line">  <span class="keyword">if</span> [ ! -d <span class="string">"<span class="variable">$destDir</span>/<span class="variable">$sourceDir</span>"</span> ]</span><br><span class="line">  <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">"åˆ›å»ºç›®å½•\t<span class="variable">$sourceDir</span>"</span></span><br><span class="line">  mkdir -p <span class="string">"<span class="variable">$destDir</span>/<span class="variable">$sourceDir</span>"</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å¯¹ç›®å½•ä¸­å¯¹æ¯ä¸€ä¸ªæ–‡ä»¶,é€’å½’è°ƒç”¨æ­¤å‡½æ•°è¿›è¡Œå¤‡ä»½</span></span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> $(ls <span class="string">"<span class="variable">$sourceDir</span>"</span>)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">backUp <span class="string">"<span class="variable">$sourceDir</span>/<span class="variable">$var</span>"</span> <span class="string">"<span class="variable">$destDir</span>"</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="keyword">else</span> <span class="comment">#å¤‡ä»½æ–‡ä»¶</span></span><br><span class="line">  <span class="comment">#å¦‚æœæ–‡ä»¶åœ¨å°šæœªå¤‡ä»½ï¼Œåˆ™ç›´æ¥å¤åˆ¶</span></span><br><span class="line">  <span class="keyword">if</span> [ ! -f <span class="string">"<span class="variable">$destDir</span>/<span class="variable">$sourceDir</span>"</span> ]</span><br><span class="line">  <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> -e <span class="string">"å¤‡ä»½æ–‡ä»¶\t<span class="variable">$sourceDir</span>"</span></span><br><span class="line">  cp <span class="string">"<span class="variable">$sourceDir</span>"</span> <span class="string">"<span class="variable">$destDir</span>/<span class="variable">$sourceDir</span>"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">#å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶å¯¹æœ€åä¿®æ”¹æ—¶é—´ï¼Œå¦‚æœæ–‡ä»¶å·²ä¿®æ”¹ï¼Œåˆ™æ›´æ–°æ–‡ä»¶</span></span><br><span class="line">  lastModifi_backup=$(date -r <span class="string">"<span class="variable">$destDir</span>/<span class="variable">$sourceDir</span>"</span> +%s)</span><br><span class="line">  lastModifi_current=$(date -r <span class="string">"<span class="variable">$sourceDir</span>"</span> +%s)</span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">"<span class="variable">$lastModifi_current</span>"</span> -gt <span class="string">"<span class="variable">$lastModifi_backup</span>"</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">"æ›´æ–°æ–‡ä»¶\t<span class="variable">$sourceDir</span>"</span> </span><br><span class="line">    cp <span class="string">"<span class="variable">$sourceDir</span>"</span> <span class="string">"<span class="variable">$destDir</span>/<span class="variable">$sourceDir</span>"</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line">backUp <span class="string">"<span class="variable">$1</span>"</span> <span class="string">"<span class="variable">$2</span>"</span></span><br></pre></td></tr></table></figure>
<p>è¿è¡Œè„šæœ¬ï¼š <code>./backupSpecially.sh &quot;/date/originData&quot; &quot;/date/backup_dir&quot;</code></p>
<p>å‘ç°è¿è¡Œshellè„šæœ¬æœ‰é—®é¢˜ï¼Œäºæ˜¯å¤§ç¥å¸®æˆ‘å†™äº†ä¸ªpython</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python2.7</span></span><br><span class="line"><span class="comment"># -*- encoding:utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> os,time,filecmp</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">differentFileCopy</span><span class="params">(sourcePath, targetPath)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(sourcePath):</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(targetPath):</span><br><span class="line">        os.makedirs(targetPath)</span><br><span class="line">    <span class="keyword">for</span> fileName <span class="keyword">in</span> os.listdir(sourcePath):</span><br><span class="line">        absourcePath = os.path.join(sourcePath, fileName)</span><br><span class="line">        abstargetPath = os.path.join(targetPath, fileName)</span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(absourcePath):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(abstargetPath):</span><br><span class="line">                os.makedirs(abstargetPath)</span><br><span class="line">                differentFileCopy(absourcePath, abstargetPath)</span><br><span class="line">        <span class="keyword">if</span> os.path.isfile(absourcePath):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(abstargetPath):</span><br><span class="line">                <span class="keyword">print</span> <span class="string">'copy %s to %s'</span> %(fileName,abstargetPath)</span><br><span class="line">                os.system(<span class="string">'cp'</span>+<span class="string">' '</span>+absourcePath+<span class="string">' '</span>+targetPath)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> filecmp.cmp(absourcePath,abstargetPath):</span><br><span class="line">                <span class="keyword">print</span> <span class="string">'copy %s to %s'</span> %(fileName,abstargetPath)</span><br><span class="line">                os.system(<span class="string">'cp'</span>+<span class="string">' '</span>+absourcePath+<span class="string">' '</span>+targetPath)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    startTime = time.clock()</span><br><span class="line">    sourcePath = <span class="string">r"/date/originData"</span></span><br><span class="line">    targetPath = <span class="string">r"/date/Data_backupDir"</span></span><br><span class="line">    differentFileCopy(sourcePath, targetPath)</span><br><span class="line">    endTime = time.clock()</span><br><span class="line">    time_mi = endTime // <span class="number">60</span></span><br><span class="line">    time_s = endTime // <span class="number">1</span> % <span class="number">60</span></span><br><span class="line">    time_ms = ((endTime * <span class="number">100</span>) // <span class="number">1</span>) % <span class="number">100</span></span><br><span class="line">    print(<span class="string">"æ€»ç”¨æ—¶:%02.0f:%02.0f:%2.0f"</span> % (time_mi, time_s, time_ms))</span><br></pre></td></tr></table></figure> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shell/">Shell</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Q-Movie-List"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/12/Q-Movie-List/"
    >Q Movie List</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/05/12/Q-Movie-List/" class="article-date">
  <time datetime="2019-05-12T15:02:26.000Z" itemprop="datePublished">2019-05-12</time>
</a>  
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>Q Movie List </p>
<h3 id="1-ã€Šå¤œä»¥ç»§æ—¥ã€‹-2018"><a href="#1-ã€Šå¤œä»¥ç»§æ—¥ã€‹-2018" class="headerlink" title="1.ã€Šå¤œä»¥ç»§æ—¥ã€‹(2018)"></a>1.ã€Šå¤œä»¥ç»§æ—¥ã€‹(2018)</h3><p>åŸåï¼šAsako I &amp; II<br>å¯¼æ¼”ï¼šæ»¨å£é¾™ä»‹<br>ä¸»æ¼”: ä¸œå‡ºæ˜Œå¤§ / å”ç”°è‹±é‡Œä½³</p>
<p><img src="/images/movie_Asako_I_II_01.png" alt="Asako_I_II"></p>
<center> å¤œä»¥ç»§æ—¥ ç”·å¥³ä¸» </center>

<p>ä¸¤ä¸ªç›¸è²Œç›¸åŒçš„ç”·äººï¼Œä¸€ä¸ªæ‹¥æœ‰ç€è¿·äººçš„é­…åŠ›ï¼Œéšæ€§çš„åç”·å­©ï¼›ä¸€ä¸ªæ˜¯æœ´å®æ— åï¼Œå¤„å¤„ä¸ºåˆ«äººè€ƒè™‘çš„ä½“è´´ç”·å­©ã€‚æ‹çˆ±ä¸­çš„ç†æƒ³å’Œç°å®çš„é€‰æ‹©è¢«è¡¨ç°æ·‹æ¼“å°½è‡´ï¼Œæ·±å…¥äººå¿ƒã€‚æ²¡æœ‰å¯¹é”™ï¼Œæ˜ç™½ä»€ä¹ˆæ˜¯ç”Ÿæ´»ï¼Œä»€ä¹ˆæ˜¯å¯è´µçš„ã€‚</p>
<blockquote>
<p>æ—¥æœ¬ç”µå½±æ€»æŠŠä¸‰è§‚ä¸å¤ªæ­£çš„æƒ³æ³•è¡¨ç°å¾—å¾ˆæœ‰é“ç†çš„æ ·å­ ğŸ˜“</p>
</blockquote>
<h3 id="2-ã€Šéª¡å­ã€‹-2018"><a href="#2-ã€Šéª¡å­ã€‹-2018" class="headerlink" title="2. ã€Šéª¡å­ã€‹(2018)"></a>2. ã€Šéª¡å­ã€‹(2018)</h3><p>åŸåï¼šThe Muleâ€<br>å¯¼æ¼”ï¼šå…‹æ—ç‰¹Â·ä¼Šæ–¯ç‰¹ä¼å¾·<br>ä¸»æ¼”ï¼š å…‹æ—ç‰¹Â·ä¼Šæ–¯ç‰¹ä¼å¾·</p>
<p><img src="/images/movie_mule_01.png" alt="Mule"></p>
<center> ç”·ä¸»åœ¨å…¬è·¯ä¸Š </center><br>ç”·ä¸»ä¸å¦»å­å»ä¸–å‰çš„å¯¹è¯ï¼š<br><br>&gt; Mary: You were the love of my life, and the pain of my life. I need you to know, itâ€™s all the world to me that youâ€™re here.<br>&gt; <strong>Earl</strong>: I love you, Mary.<br>&gt; Mary: More today than yesterday?<br>&gt; <strong>Earl</strong>: But not as much as tomorrow.<br><br>è‡ªå·±çš„ç”Ÿæ´»è¿˜æ˜¯å®¶åº­ï¼Ÿç”·ä¸»ä¸€ç”Ÿå¤§éƒ¨åˆ†æ—¶é—´éƒ½ç”¨åœ¨è‡ªå·±çš„é»„èŠ±èœä¸Šï¼Œæˆ–è€…è‡ªå·±çš„è€å…µä¿±ä¹éƒ¨ç­‰ï¼Œå®¶äººå¯¹ä»–æ— ä¸è´£å¤‡ã€‚ä½†æ˜¯æœ€åç”·ä¸»åœ¨å¦»å­çš„æœ€åä¸€æ¬¡è¯·æ±‚ä¸­æ”¾ä¸‹æ‰‹ä¸­çš„æ´»å„¿ï¼ˆè¿é€æ¯’å“ï¼‰ï¼Œé€‰æ‹©å›åˆ°å¦»å­èº«è¾¹ï¼Œä¹Ÿå¾—åˆ°äº†å¥³å„¿çš„åŸè°…ã€‚<br><br>###  3.ã€Šæ¥çš„éƒ½æ˜¯å®¢ã€‹(1990)<br>å¯¼æ¼”ï¼šé©¬ç»æƒ <br>ä¸»æ¼”ï¼š èµµæœ¬å±±ã€å·©æ±‰æ—<br><br><img src="/images/movie_guest.png" alt="Whoever Comes Is a Guest"><br><center> 90å¹´ä»£ï¼Œå¹´è½»çš„ä¸¤ä½ç”·ä¸»</center>

<p>ä¸Šä¸–çºª90å¹´ä»£çš„ä¸€éƒ¨<strong>å–œå‰§</strong>ã€å‰§æƒ…ç‰‡ï¼Œåè®½å½“æ—¶çš„åƒå–é£ã€‚æ•…äº‹æƒ…èŠ‚æµç•…ã€å¾ˆè´´è¿‘ç”Ÿæ´»ã€‚æˆ‘æœ€æ—©çŸ¥é“<strong>èµµæœ¬å±±</strong>æ˜¯æ˜¥æ™šçš„å°å“ä¸Šï¼Œä½†æ²¡æœ‰æƒ³åˆ°è¿‡ä»–å‡ºæ¼”äº†å¾ˆå¤šç”µå½±ï¼Œè€Œä¸”æ˜¯ä»–å¹´è½»åŠ›å£®çš„æ—¶å€™ï¼Œå½“å¹´çš„èµµæœ¬å±±è„¸ä¸Šè¿˜æ²¡æœ‰è¤¶å­ï¼Œæ¼”æŠ€ä¹Ÿåœ¨çº¿ã€‚</p>
<blockquote>
<p>é€‚åˆé•¿è¾ˆè§‚çœ‹ï¼Œæ”¾äººå¼€æ€€å¤§ç¬‘ã€ç²¾ç¥æ”¾æ¾ï¼ŒæŠŠæˆ‘å¦ˆé€—ä¹äº†ã€‚</p>
</blockquote>
<h3 id="4-ã€Šå›åˆ°è¢«çˆ±çš„æ¯ä¸€å¤©ã€‹-2015"><a href="#4-ã€Šå›åˆ°è¢«çˆ±çš„æ¯ä¸€å¤©ã€‹-2015" class="headerlink" title="4. ã€Šå›åˆ°è¢«çˆ±çš„æ¯ä¸€å¤©ã€‹ (2015)"></a>4. ã€Šå›åˆ°è¢«çˆ±çš„æ¯ä¸€å¤©ã€‹ (2015)</h3><p>å¯¼æ¼”ã€ç¼–å‰§: ä½•å¹³<br>ä¸»æ¼”: ç‹ä½³ä½³ã€å¼ è¯‘ </p>
<p><img src="/images/movie_The_Promised_Land.png?30" alt="The Promised Land"></p>
<center> æµ·æŠ¥ </center>

<p>ä¸€éƒ¨è¾ƒæ–‡è‰ºã€æœ´ç´ çš„ç”µå½±ï¼Œæ²¡æœ‰å¤§èµ·å¤§è½ï¼Œåªæ˜¯æ…¢æ…¢çš„è®²è¿°ä¸€ä¸ªæ•…äº‹ï¼Œçœ‹çš„æ—¶å€™è¦æœ‰è€å¿ƒã€‚ç”µå½±çš„è‰²è°ƒï¼Œæ­é…æ‹æ‘„åœ°çš„é£æ™¯ï¼Œä½¿ç”»é¢çœ‹èµ·æ¥æœ‰ä¸€ç§å¹³é™çš„ç¾ã€‚å¤§åŸå¸‚ã€å°å®¶ä¹¡ï¼Œéƒ½æ˜¯å¹´è½»äººçš„é€‰æ‹©ï¼Œä½†ä»€ä¹ˆæ ·çš„é€‰æ‹©æ›´å¥½åªæœ‰è‡ªå·±çš„å†…å¿ƒæ‰èƒ½æ„Ÿè§‰å¾—åˆ°ã€‚åœ¨å•†ä¸šç”µå½±ç››è¡Œçš„å‰å‡ å¹´ï¼Œè¿™æ ·çº¯ç²¹çš„ç”µå½±ç®—æ˜¯éš¾å¾—ä¸€è§çš„å§ã€‚</p>
<h3 id="5-ã€Šåªæœ‰èŠ¸çŸ¥é“ã€‹ï¼ˆ2019ï¼‰"><a href="#5-ã€Šåªæœ‰èŠ¸çŸ¥é“ã€‹ï¼ˆ2019ï¼‰" class="headerlink" title="5. ã€Šåªæœ‰èŠ¸çŸ¥é“ã€‹ï¼ˆ2019ï¼‰"></a>5. ã€Šåªæœ‰èŠ¸çŸ¥é“ã€‹ï¼ˆ2019ï¼‰</h3><p>å¯¼æ¼”: å†¯å°åˆš<br>ä¸»æ¼”: é»„è½©,æ¨é‡‡é’°,å¾å¸†</p>
<p><img src="/images/movie_only_cloud_knows.png?30" alt="only cloud knows "></p>
<center> ç®€å•çš„æ–°å©š </center>

<p>çˆ±æƒ…ç‰‡ï¼Œäººç‰©ä¸å¤šï¼Œé£æ™¯å¾ˆç¾ï¼Œä¸€ä»¶ä»¶å¾€äº‹æ…¢æ…¢å›å¿†ç»™æˆ‘ä»¬ï¼Œä¸¤ä¸ªäººåœ¨å¼‚å›½ä»–ä¹¡æ‰¾åˆ°å½¼æ­¤ï¼Œåˆç›¸ä¼´åå‡ å¹´ï¼Œéƒ½æ„¿æ„ä¸ºå¯¹æ–¹ä»˜å‡ºã€‚è®°å½•ä¸€å¥å°è¯ï¼Œâ€œæœ‰äº†æˆ¿å­ï¼Œæœ‰äº†ç”Ÿæ„ï¼Œå°±æ˜¯ç»™å¥¹æœ€å¤§çš„å®‰å…¨æ„Ÿã€‚â€<br>â€œå…¶å®æˆ¿å­å’Œç”Ÿæ„éƒ½ä¸èƒ½ç»™æˆ‘å®‰å…¨æ„Ÿï¼Œåªæœ‰ä½ å¯ä»¥ã€‚â€ â€œæˆ‘æƒ³å’ŒSimonæ¢ä¸ªæ´»æ³•â€</p>
<p>æ—å¤ªçš„æ­¦æ±‰è¯åœ°é“æœ‰å‘³ï¼Œä¹Ÿæ˜¯åœ¨å°‘è§çš„å¼‚å›½ä»–ä¹¡çˆ±æƒ…ç‰‡ä¸­(å°è±¡ä¸­åŒ—äº¬è¯ã€å››å·è¯æ›´å¤š)ã€‚è€Œæ­¤æ¬¡çš„ç–«æƒ…ææ€•è®©å…¨ä¸­å›½éƒ½ç†Ÿæ‚‰äº†ä¸€ä¸‹æ­¦æ±‰è¯ï¼Œä¹Ÿè®©å…¨ä¸–ç•Œéƒ½äº†è§£äº†æ­¦æ±‰è¿™ä¸ªåœ°åã€‚</p>
<p>æ‰å‘ç°è¿™æ˜¯2019å¹´çš„ç”µå½±ï¼Œä½†ä¼¼ä¹å¸‚åœºä¸Šå½±å“ä¸å¤§ï¼Œå¯èƒ½æ˜¯å½±é™¢æ’ç‰‡è¾ƒå°‘ï¼Œä¹Ÿå¹¸å¥½å½±ç‰‡ä¸­å•†ä¸šåŒ–è¾ƒå°‘ã€‚å¦å¤–ï¼Œé»„è½©çš„æ¼”æŠ€å€¼å¾—è‚¯å®šï¼Œä»¥å‰ä¸€ç›´è§‰å¾—ä»–çœ¼ç¥æœ‰é—®é¢˜ï¼Œä½†æ˜¯è¿™éƒ¨ç”µå½±æŒºå¥½çš„ã€‚</p>
<h3 id="6-ã€Šä¸ˆå¤«å¾—äº†æŠ‘éƒç—‡ã€‹ï¼ˆ2011ï¼‰"><a href="#6-ã€Šä¸ˆå¤«å¾—äº†æŠ‘éƒç—‡ã€‹ï¼ˆ2011ï¼‰" class="headerlink" title="6. ã€Šä¸ˆå¤«å¾—äº†æŠ‘éƒç—‡ã€‹ï¼ˆ2011ï¼‰"></a>6. ã€Šä¸ˆå¤«å¾—äº†æŠ‘éƒç—‡ã€‹ï¼ˆ2011ï¼‰</h3><p>å¯¼æ¼”: ä½ä½éƒ¨æ¸…<br>ä¸»æ¼”: å®«å´è‘µ,å ºé›…äºº</p>
<p><img src="https://s1.ax1x.com/2020/04/04/G0uDJA.png" alt="G0uDJA.png"></p>
<center> å› ä¸ºæŠ‘éƒç—‡ï¼Œç”·ä¸»æ„Ÿåˆ°å¾ˆè‡ªè´£ </center>

<p>ä¸€åœºæŠ‘éƒç—‡ï¼Œä¼´éšæ˜¯ä¸­é•¿æœŸçš„ï¼Œèº«é™·å…¶ä¸­çš„ç”·ä¸»å¤„äºä¸€ä¸­ç‰¹æ®Šçš„ç—›è‹¦ã€æ— åŠ›çš„ç”Ÿæ´»ä¸­ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œä½œä¸ºå¦»å­çš„å¥³ä¸»ä¹Ÿç»ˆäºè®¤è¯†åˆ°ç”Ÿæ´»çš„å·¨å¤§æ”¹å˜ã€‚åŒæ—¶ï¼Œè‡ªèº«ä¹Ÿæ‰¿æ‹…äº†æ›´å¤šäº‹æƒ…ï¼šåšé¥­ã€æ‰“æ‰«ã€ä¹°èœã€åŠªåŠ›å·¥ä½œç­‰ç­‰ã€‚ç”·ä¸»ä»æœ€å¼€å§‹ä¸ºäº†å¦»å­è€Œæ²»ç—…ï¼Œæ”¹å˜ä¸ºä¸ºäº†è‡ªå·±è€Œæ²»ç—…ã€‚</p>
<p>å¥³ä¸»åšç€è„¸çš®è¯·æ±‚ç¼–è¾‘ç»™äºˆå·¥ä½œæœºä¼šï¼Œä¹ŸåŒæ—¶è¯´å‡ºäº†ä¸ˆå¤«å¾—äº†æŠ‘éƒç—‡çš„äº‹æƒ…ã€‚è€Œå˜å¾—é‡Šæ€€ï¼Œä¸ä»‹æ„ä»–äººçš„æƒ³æ³•ã€‚</p>
<p>æœ€åä¸¤äººåœ¨â€œåŒçª—ä¼šâ€ä¸Šçš„ä¸€æ®µå‘è¨€ç®—æ˜¯ä¸€å¹´çš„æ€»ç»“ï¼Œä¹Ÿè®©ä¸¤äººå¯¹å©šå§»æœ‰äº†æ›´æ·±çš„è®¤è¯†å’Œç†è§£ã€‚</p>
<p><strong>ç”Ÿæ´»ç”œèœœå¹¸ç¦çš„æ—¶å€™ã€èŒåœºå¾—æ„çš„æ—¶å€™ï¼Œä¸å¦¨ä¹Ÿè¸©ä¸€ä¸‹åˆ¹è½¦ï¼Œæˆ–è€…åœè½¦ï¼Œçœ‹ä¸€ä¸‹åé¢ç±»å‹çš„ç”µå½±ï¼Œç»™äºˆè‡ªå·±å†·é™ä¸‹æ¥çš„æœºä¼šï¼Œå®¡æ—¶åº¦åŠ¿ï¼Œæœªé›¨ç»¸ç¼ªã€‚</strong></p>
<p>å½“ç„¶ï¼Œç”µå½±ä¸­æœ‰å¾ˆå¤šåœ°æ–¹å¹¶ä¸å€¼å¾—ä¸¥è°¨åœ°æ¨æ•²ï¼Œç°å®ä¸­è¿™æ ·ç¾å¥½çš„ç»“å±€ææ€•å‡¤æ¯›è±è§’ã€‚ä½†ä¸ªäººè§‰å¾—ä¸å½±å“ç”µå½±æƒ³è¡¨è¾¾çš„å†…å®¹ï¼Œä»¥åŠç»™äººä»¥æ­£èƒ½é‡çš„æš—ç¤ºã€‚</p>
<p>æœ‰å¾ˆå¤šå°è¯è¿˜æ˜¯å€¼å¾—å›å‘³çš„ï¼Œæœ‰ç‚¹å„¿ç”Ÿæ´»å“²å­¦ã€äººç”Ÿå“²å­¦çš„æ ·å­ï¼Œæ¯”å¦‚<br>â€œèƒ½ä¸€ç›´å®Œå¥½æ— æ‰€ä¾¿æ˜¯ä»·å€¼æ‰€åœ¨â€<br>â€œå¦‚æœåŠªåŠ›å¾ˆç—›è‹¦ï¼Œé‚£å°±åˆ«åŠªåŠ›äº†â€<br>â€œäººä¸åŠªåŠ›ä¹Ÿæ˜¯å¯ä»¥çš„â€<br>â€œä¸å»æƒ³å¿§éƒç—‡çš„åŸå› ï¼Œè€Œæ˜¯æƒ³å®ƒçš„æ„ä¹‰ã€‚â€</p>
<p>å…¶ä»–è¯é¢˜ï¼š<strong>å©šç¤¼åŒå­¦ä¼š</strong>ï¼Œè¿™ä¸ªåŒå­¦ä¼šæŒºæœ‰æ„æ€çš„ï¼Œå°±æ˜¯åœ¨åŒä¸€ä¸ªæ•™å ‚ç»“å©šçš„å¤«å¦‡ç»„æˆçš„åŒå­¦ï¼›<strong>å¤±ä¸šä¿é™©</strong></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Q-List/">Q List</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-mktemp-command"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/07/mktemp-command/"
    >mktemp command</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/05/07/mktemp-command/" class="article-date">
  <time datetime="2019-05-07T14:51:09.000Z" itemprop="datePublished">2019-05-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
  </div>
 
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>æœ€é€‚åˆå­˜å‚¨ä¸´æ—¶æ•°æ®çš„ä½ç½®æ˜¯/tmp, <strong>mktemp</strong> å‘½ä»¤å¯ä»¥ä¸ºä¸´æ—¶æ–‡ä»¶æˆ–ç›®å½•åˆ›å»ºå”¯ä¸€çš„åå­—</p>
<p>Create a temporary file or directory.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mktemp</span><br><span class="line"></span><br><span class="line">Create a temporary file or directory.</span><br><span class="line"></span><br><span class="line">- Create an empty temporary file and return the absolute path to it:</span><br><span class="line">    mktemp</span><br><span class="line"></span><br><span class="line">- Create a temporary directory and return the absolute path to it:</span><br><span class="line">    mktemp -d</span><br><span class="line"></span><br><span class="line">- Create a temporary file with a specified suffix:</span><br><span class="line">    mktemp --suffix &quot;.txt&quot;</span><br></pre></td></tr></table></figure>
<h4 id="1-create-temporary-file-åˆ›å»ºä¸´æ—¶ç›®å½•"><a href="#1-create-temporary-file-åˆ›å»ºä¸´æ—¶ç›®å½•" class="headerlink" title="1.create temporary file (åˆ›å»ºä¸´æ—¶ç›®å½•)"></a>1.create temporary file (åˆ›å»ºä¸´æ—¶ç›®å½•)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$filename</span>=`mktemp`</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$filename</span></span><br><span class="line">/tmp/tmp.8xefliegnD9</span><br></pre></td></tr></table></figure>
<h4 id="2-create-temporary-directory-åˆ›å»ºä¸´æ—¶ç›®å½•"><a href="#2-create-temporary-directory-åˆ›å»ºä¸´æ—¶ç›®å½•" class="headerlink" title="2. create temporary directory (åˆ›å»ºä¸´æ—¶ç›®å½•)"></a>2. create temporary directory (åˆ›å»ºä¸´æ—¶ç›®å½•)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dirname=`mktemp -d`</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$dirname</span></span><br><span class="line">tmp.NJ8dhf6wk</span><br></pre></td></tr></table></figure>
<ul>
<li><p>If you just want to generate a filename and donâ€™t want to create the actual file or directory, you can(å¦‚æœä»…ä»…æ˜¯æƒ³ç”Ÿæˆæ–‡ä»¶åï¼Œä¸å¸Œæœ›åˆ›å»ºå®é™…çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¯ä»¥):<br><code>mktemp -u</code></p>
</li>
<li><p>Create a temporary filename based on the tempplate(åŸºäºæ¨¡æ¿åˆ›å»ºä¸´æ—¶æ–‡ä»¶å)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">âœ  qr_blog mktemp study.XXX</span><br><span class="line">study.UWT</span><br><span class="line">âœ  qr_blog mktemp study.XXX</span><br><span class="line">study.Usm</span><br><span class="line">âœ  qr_blog mktemp study.XXX</span><br><span class="line">study.M6a</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Mac OS ä¸linuxç”¨æ³•ç•¥æœ‰åŒºåˆ«ï¼Œè¯·è§†æƒ…å†µä½¿ç”¨</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Shell/">Shell</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="post-Docker-clean"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2019/05/07/Docker-clean/"
    >Docker clean</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2019/05/07/Docker-clean/" class="article-date">
  <time datetime="2019-05-07T08:33:18.000Z" itemprop="datePublished">2019-05-07</time>
</a>  
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h4 id="1-Cleanup-exited-processes"><a href="#1-Cleanup-exited-processes" class="headerlink" title="1.Cleanup exited processes:"></a>1.Cleanup exited processes:</h4><p>docker rm $(docker ps -q -f status=exited)</p>
<h4 id="3-Cleanup-dangling-volumes"><a href="#3-Cleanup-dangling-volumes" class="headerlink" title="3.Cleanup dangling volumes:"></a>3.Cleanup dangling volumes:</h4><p>docker volume rm $(docker volume ls -qf dangling=true)</p>
<h4 id="3-Cleanup-dangling-images"><a href="#3-Cleanup-dangling-images" class="headerlink" title="3.Cleanup dangling images:"></a>3.Cleanup dangling images:</h4><p>docker rmi $(docker images â€“filter â€œdangling=trueâ€ -q â€“no-trunc)</p>
<p>more methods go to below link â†“</p>
<p><strong>More Ref:</strong></p>
<ul>
<li><a href="https://www.jianshu.com/p/470e29801be2" target="_blank" rel="noopener">https://www.jianshu.com/p/470e29801be2</a></li>
</ul>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Docker/">Docker</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/10/">ä¸Šä¸€é¡µ</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><a class="extend next" rel="next" href="/page/12/">ä¸‹ä¸€é¡µ</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2019-2022
        <i class="ri-heart-fill heart_icon"></i> John Doe
      </li>
    </ul>
    <ul>
      <li>
        
        
        
        Powered by <a href="https://hexo.io" target="_blank">Hexo</a>
        <span class="division">|</span>
        Theme - <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/palm-tree.svg" alt="Hexo"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2020/03/16/about">å…³äºæˆ‘</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    
  </div>
</div>
    <script src="/js/jquery-2.0.3.min.js"></script> <script src="/js/lazyload.min.js"></script>
<!-- Tocbot -->

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>
<script src="/dist/main.js"></script>
<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 <script src="/js/busuanzi-2.3.pure.min.js"></script> 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 <link rel="stylesheet" href="/css/clipboard.css"> <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
  </div>
</body>

</html>